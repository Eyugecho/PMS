import{P as n,j as e,a4 as f,a0 as t,a1 as y,p as r,Y as P,R as m,a8 as p}from"./index-BrIZ1aRM.js";import"./PerformanceCard-B4CFarf5.js";import{A as T}from"./ActivityIndicator-BsI2VQVz.js";import{F as I}from"./index-CJagu-9E.js";import{D as F}from"./DrogaDonutChart-BcPDFQqh.js";const u=({kpi:l,target:a,actual:c,performance:s})=>e.jsx(f,{sx:{marginY:1},children:e.jsxs(t,{container:!0,spacing:y,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(t,{item:!0,xs:12,sm:6,md:4,lg:4,xl:4,children:[e.jsx(r,{variant:"subtitle1",children:l}),e.jsx(r,{variant:"caption",children:"KPI name"})]}),e.jsxs(t,{item:!0,xs:12,sm:6,md:3,lg:3,xl:3,children:[e.jsx(r,{variant:"subtitle1",children:a}),e.jsx(r,{variant:"caption",children:"Target"})]}),e.jsxs(t,{item:!0,xs:12,sm:6,md:3,lg:3,xl:3,children:[e.jsx(r,{variant:"subtitle1",children:c}),e.jsx(r,{variant:"caption",children:"Actual"})]}),e.jsx(t,{item:!0,xs:12,sm:6,md:2,lg:2,xl:2,children:e.jsx(F,{value:s,size:30})})]})});u.propTypes={kpi:n.string,target:n.number,actual:n.number,performance:n.number};const D=({isLoading:l,performance:a})=>{const c=P();return e.jsx(m.Fragment,{children:e.jsx(t,{container:!0,sx:{marginTop:2,borderTop:.8,borderColor:c.palette.divider,padding:1},children:e.jsx(t,{item:!0,xs:12,children:l?e.jsx(p,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:2},children:e.jsx(T,{size:20})}):a.length>0?e.jsx(m.Fragment,{children:a==null?void 0:a.map((s,g)=>{var o,d;const x=Object.keys(s)[0],[j,h]=x.match(/[a-zA-Z]+|[0-9]+/g),b=`${j} ${h}`;return e.jsx(p,{marginY:.6,children:((o=s[x])==null?void 0:o.per_kpi.length)>0&&e.jsxs(m.Fragment,{children:[e.jsx(r,{variant:"subtitle1",sx:{textTransform:"capitalize"},children:b}),(d=s[x])==null?void 0:d.per_kpi.map((i,v)=>e.jsx(u,{kpi:i.name,target:i.target,actual:i.actual_value,performance:parseFloat(i.kpi_performance).toFixed(1)},v))]})},g)})}):e.jsx(I,{severity:"performance",title:"No per KPI performance report",description:"Per KPI performances will be listed here",sx:{paddingTop:2}})})})})};export{D as P};
