import{r as d,E as ir,H as ar,s as sr,_ as de,J as lr,K as cr,L as dr,j as n,N as ur,U as pr,V as fr,W as X,X as hr,c as it,a as Tt,b as J,Y as Et,i as Te,u as St,B as te,I as Le,d as at,F as N,e as Q,O as re,f as ne,Z as st,$ as lt,a0 as xe,a1 as be,S as Ot,T as ie,a2 as It,a3 as Pt,h as ae,C as ct,Q as Bt,n as I,o as M,t as $t,v as zt,P as C,a4 as gr,a5 as mr,m as xr,a6 as br,a7 as vr,R as Mt,G as me,a8 as jr,l as yr}from"./index-CsFgNO3o.js";import{P as Cr}from"./MainPage-CJwvk7F6.js";import{S as Ar}from"./search-Q2QaBXfU.js";import{a as Fr}from"./index-DK6LBEOt.js";import{D as dt,a as ut,b as pt,c as ft}from"./DialogTitle-D1Q0RY_x.js";import{M as ht}from"./MenuItem-BvD3M8VG.js";import{A as Wt}from"./Autocomplete-91ewa39-.js";import{a as wr,D as Dr}from"./DeletePrompt-BkwRSmdx.js";import{L as kr}from"./LinearProgress-o5MmDmiC.js";import{a as _r}from"./axios-BRiE0AY8.js";import{T as Rr}from"./TableContainer-qijX9D2r.js";import{T as Tr,a as Er,b as _e,c as Sr}from"./TableRow-CVrgL676.js";import{T as z}from"./TableCell-F9dx6MLR.js";import{T as Or}from"./TablePagination-B8umwSgE.js";import"./Close-Caj59dBO.js";import"./IconPencil-LUwePxj3.js";import"./IconDotsVertical-iUbTma2w.js";import"./IconTrash-D_o8MoK5.js";import"./Box-BBcNUpSQ.js";import"./KeyboardArrowRight-BXcaHgBy.js";import"./LastPage-D909ciHu.js";function Ir(e){return d.Children.toArray(e).filter(t=>d.isValidElement(t))}function Pr(e){return ar("MuiButtonGroup",e)}const q=ir("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Br=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],$r=(e,t)=>{const{ownerState:r}=e;return[{[`& .${q.grouped}`]:t.grouped},{[`& .${q.grouped}`]:t[`grouped${X(r.orientation)}`]},{[`& .${q.grouped}`]:t[`grouped${X(r.variant)}`]},{[`& .${q.grouped}`]:t[`grouped${X(r.variant)}${X(r.orientation)}`]},{[`& .${q.grouped}`]:t[`grouped${X(r.variant)}${X(r.color)}`]},{[`& .${q.firstButton}`]:t.firstButton},{[`& .${q.lastButton}`]:t.lastButton},{[`& .${q.middleButton}`]:t.middleButton},t.root,t[r.variant],r.disableElevation===!0&&t.disableElevation,r.fullWidth&&t.fullWidth,r.orientation==="vertical"&&t.vertical]},zr=e=>{const{classes:t,color:r,disabled:o,disableElevation:s,fullWidth:i,orientation:l,variant:f}=e,j={root:["root",f,l==="vertical"&&"vertical",i&&"fullWidth",s&&"disableElevation"],grouped:["grouped",`grouped${X(l)}`,`grouped${X(f)}`,`grouped${X(f)}${X(l)}`,`grouped${X(f)}${X(r)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return hr(j,Pr,t)},Mr=sr("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:$r})(({theme:e,ownerState:t})=>de({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${q.grouped}`]:de({minWidth:40,"&:hover":de({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"}),[`& .${q.firstButton},& .${q.middleButton}`]:de({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${q.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${q.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:lr(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${q.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${q.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":de({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${q.lastButton},& .${q.middleButton}`]:de({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1})})),Wr=d.forwardRef(function(t,r){const o=cr({props:t,name:"MuiButtonGroup"}),{children:s,className:i,color:l="primary",component:f="div",disabled:j=!1,disableElevation:u=!1,disableFocusRipple:m=!1,disableRipple:v=!1,fullWidth:T=!1,orientation:P="horizontal",size:p="medium",variant:B="outlined"}=o,h=dr(o,Br),D=de({},o,{color:l,component:f,disabled:j,disableElevation:u,disableFocusRipple:m,disableRipple:v,fullWidth:T,orientation:P,size:p,variant:B}),_=zr(D),E=d.useMemo(()=>({className:_.grouped,color:l,disabled:j,disableElevation:u,disableFocusRipple:m,disableRipple:v,fullWidth:T,size:p,variant:B}),[l,j,u,m,v,T,p,B,_.grouped]),g=Ir(s),y=g.length,F=b=>{const S=b===0,O=b===y-1;return S&&O?"":S?_.firstButton:O?_.lastButton:_.middleButton};return n.jsx(Mr,de({as:f,role:"group",className:ur(_.root,i),ref:r,ownerState:D},h,{children:n.jsx(pr.Provider,{value:E,children:g.map((b,S)=>n.jsx(fr.Provider,{value:F(S),children:b},S))})}))});var Lr=it("file-check","IconFileCheck",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 15l2 2l4 -4",key:"svg-2"}]]),Ur=it("file-upload","IconFileUpload",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M9.5 13.5l2.5 -2.5l2.5 2.5",key:"svg-3"}]]),qr=it("info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);const Gr=Tt().shape({name:J().required("Full name is required"),gender:J().required("Unit type is required"),email:J().email().required("Email is required"),phone:J().required("Phone number is required"),unit:J().required("Unit is required"),position:J().required("The employee position is required"),start_date:Et().required("Stat date is required")}),Hr=({add:e,isAdding:t,onClose:r,handleSubmission:o})=>{const s=Te(),[i,l]=d.useState([]),[f,j]=d.useState([]),[u,m]=d.useState([]),[v,T]=d.useState([]),P=(D,_)=>{m(_);const E=_.find(y=>!u.some(F=>F.uuid===y.uuid)),g=u.find(y=>!_.some(F=>F.uuid===y.uuid));E&&T(y=>[...y,E.uuid]),g&&T(y=>y.filter(F=>F!==g.uuid))},p=St({initialValues:{name:"",gender:"",email:"",phone:"",unit:"",position:"",role:"",start_date:""},validationSchema:Gr,onSubmit:D=>{o(D,v)}}),B=()=>{const D=localStorage.getItem("token"),_=M.api+M.units,E={Authorization:`Bearer ${D}`,accept:"application/json","Content-Type":"application/json"};fetch(_,{method:"GET",headers:E}).then(g=>g.json()).then(g=>{g.success&&l(g.data.data)}).catch(g=>{I(g.message)})},h=()=>{const D=localStorage.getItem("token"),_=M.auth+M.roles,E={Authorization:`Bearer ${D}`,accept:"application/json","Content-Type":"application/json"};fetch(_,{method:"GET",headers:E}).then(g=>g.json()).then(g=>{g.success&&j(g.data)}).catch(g=>{I(g.message)})};return d.useEffect(()=>(B(),h(),()=>{}),[]),n.jsxs(d.Fragment,{children:[n.jsxs(dt,{open:e,onClose:r,children:[n.jsxs(te,{sx:{position:"sticky",top:0,zIndex:2,width:"100%",backgroundColor:s.palette.primary.main,display:"flex",alignItems:"center",justifyContent:"space-between",paddingRight:2,paddingY:.6},children:[n.jsx(ut,{variant:"h4",color:s.palette.background.default,children:"Add Employee"}),n.jsx(Le,{onClick:r,children:n.jsx(at,{size:20,color:s.palette.background.default})})]}),n.jsxs("form",{noValidate:!0,onSubmit:p.handleSubmit,children:[n.jsxs(pt,{children:[n.jsxs(N,{fullWidth:!0,error:p.touched.name&&!!p.errors.name,sx:{marginTop:1},children:[n.jsx(Q,{htmlFor:"name",children:"Full name"}),n.jsx(re,{id:"name",name:"name",label:"Full name",value:p.values.name,onChange:p.handleChange,fullWidth:!0}),p.touched.name&&p.errors.name&&n.jsx(ne,{error:!0,id:"standard-weight-helper-text-name",children:p.errors.name})]}),n.jsxs(N,{error:p.touched.gender&&!!p.errors.gender,sx:{marginLeft:1.4,marginTop:2.4},children:[n.jsx(st,{id:"gender",children:"Gender"}),n.jsxs(lt,{"aria-labelledby":"gender",name:"gender",value:p.values.gender,onChange:p.handleChange,sx:{display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[n.jsx(xe,{value:"Male",control:n.jsx(be,{}),label:"Male"}),n.jsx(xe,{value:"Female",control:n.jsx(be,{}),label:"Female"})]})]}),n.jsxs(N,{fullWidth:!0,error:p.touched.email&&!!p.errors.email,sx:{marginTop:2.4},children:[n.jsx(Q,{htmlFor:"email",children:"Email address "}),n.jsx(re,{id:"email",name:"email",label:"Email address",value:p.values.email,onChange:p.handleChange,fullWidth:!0}),p.touched.email&&p.errors.email&&n.jsx(ne,{error:!0,id:"standard-weight-helper-text-name",children:p.errors.email})]}),n.jsxs(N,{fullWidth:!0,error:p.touched.phone&&!!p.errors.phone,sx:{marginTop:3},children:[n.jsx(Q,{htmlFor:"phone",children:"Phone number"}),n.jsx(re,{id:"phone",name:"phone",label:"Phone number",value:p.values.phone,onChange:p.handleChange,fullWidth:!0}),p.touched.phone&&p.errors.phone&&n.jsx(ne,{error:!0,id:"standard-weight-helper-text-phone",children:p.errors.phone})]}),n.jsxs(N,{fullWidth:!0,error:p.touched.unit&&!!p.errors.unit,sx:{marginTop:3},children:[n.jsx(Q,{htmlFor:"unit",children:"Unit"}),n.jsx(Ot,{id:"unit",name:"unit",label:"Unit",value:p.values.unit,onChange:p.handleChange,children:i.length===0?n.jsx(ie,{variant:"body2",sx:{padding:1},children:"Unit not found"}):i==null?void 0:i.map((D,_)=>n.jsx(ht,{value:D.id,children:D.name},_))})]}),n.jsx(Wt,{id:"roles",multiple:!0,options:f||[],getOptionLabel:D=>D.name||"",value:u,onChange:P,renderTags:(D,_)=>D.map((E,g)=>n.jsx(It,{className:"employee-chips",label:E.name||"",..._({index:g})},g)),fullWidth:!0,renderInput:D=>n.jsx(Pt,{...D,label:"Select Roles",variant:"outlined"}),sx:{marginTop:4}}),n.jsxs(ie,{variant:"caption",sx:{display:"flex",alignItems:"center",paddingX:1,marginTop:.8},children:[n.jsx(qr,{size:14,style:{paddingRight:2}})," The default role for employee is"," ",n.jsx("b",{style:{paddingLeft:3},children:"Employee"})]}),n.jsxs(N,{fullWidth:!0,error:p.touched.position&&!!p.errors.position,sx:{marginTop:3},children:[n.jsx(Q,{htmlFor:"position",children:"Position"}),n.jsx(re,{id:"position",name:"position",label:"Position",value:p.values.position,onChange:p.handleChange,fullWidth:!0}),p.touched.position&&p.errors.position&&n.jsx(ne,{error:!0,id:"standard-weight-helper-text-position",children:p.errors.position})]}),n.jsxs(N,{fullWidth:!0,error:p.touched.phone&&!!p.errors.phone,sx:{marginTop:3},children:[n.jsx(Q,{htmlFor:"start_date",shrink:!0,children:"Start Date"}),n.jsx(re,{id:"start_date",name:"start_date",label:"Start Date",type:"date",value:p.values.start_date,onChange:p.handleChange,fullWidth:!0}),p.touched.start_date&&p.errors.start_date&&n.jsx(ne,{error:!0,id:"standard-weight-helper-text-start_date",children:p.errors.start_date})]})]}),n.jsxs(ft,{sx:{paddingX:2},children:[n.jsx(ae,{onClick:r,sx:{marginLeft:10},children:"Cancel"}),n.jsx(ae,{type:"submit",variant:"contained",sx:{paddingX:6,boxShadow:0},disabled:t,children:t?n.jsx(ct,{size:18,sx:{color:"white"}}):"Done"})]})]})]}),n.jsx(Bt,{})]})};var gt={},Nr=zt;Object.defineProperty(gt,"__esModule",{value:!0});var Lt=gt.default=void 0,Kr=Nr($t()),Vr=n;Lt=gt.default=(0,Kr.default)((0,Vr.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");function Ut({options:e,handleSelection:t}){const[r,o]=d.useState(!1),s=d.useRef(null),[i,l]=d.useState(0),f=()=>{t(i)},j=(v,T)=>{l(T),o(!1),t(T)},u=()=>{o(v=>!v)},m=v=>{s.current&&s.current.contains(v.target)||o(!1)};return n.jsxs(d.Fragment,{children:[n.jsxs(Wr,{variant:"contained",ref:s,"aria-label":"Button group with a nested menu",children:[n.jsx(ae,{onClick:f,children:e[i]}),n.jsx(ae,{size:"small","aria-controls":r?"split-button-menu":void 0,"aria-expanded":r?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:u,children:n.jsx(Lt,{})})]}),n.jsx(gr,{sx:{width:"wrap",zIndex:1},open:r,anchorEl:s.current,role:void 0,transition:!0,disablePortal:!0,children:({TransitionProps:v,placement:T})=>n.jsx(mr,{...v,style:{transformOrigin:T==="bottom"?"center top":"center bottom"},children:n.jsx(xr,{sx:{width:"100%"},children:n.jsx(br,{onClickAway:m,children:n.jsx(vr,{id:"split-button-menu",children:e.map((P,p)=>n.jsx(ht,{sx:{width:"inherit",padding:1,marginY:.5},selected:p===i,onClick:B=>j(B,p),children:P},P))})})})})})]})}Ut.propTypes={handleSelection:C.func};const qt=({handleClose:e,handleApplying:t})=>{const r=Te(),[o,s]=Mt.useState({gender:""}),i=f=>{const{name:j,value:u}=f.target;s(m=>({...m,[j]:u}))},l=()=>{t(o)};return n.jsxs(te,{sx:{minHeight:280,p:.4},children:[n.jsxs(N,{component:"fieldset",sx:{marginTop:2,paddingX:2},onClick:e,children:[n.jsx(st,{component:"legend",sx:{color:r.palette.text.primary},children:"Gender"}),n.jsxs(lt,{"aria-label":"gender",name:"gender",value:o.gender,onChange:i,sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[n.jsx(xe,{value:"",control:n.jsx(be,{}),label:"All"}),n.jsx(xe,{value:"male",control:n.jsx(be,{}),label:"Males"}),n.jsx(xe,{value:"female",control:n.jsx(be,{}),label:"Females"})]})]}),n.jsxs(me,{container:!0,sx:{position:"absolute",bottom:2,padding:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(me,{item:!0,xs:4.6,children:n.jsx(ae,{variant:"text",role:"button",fullWidth:!0,children:"Reset"})}),n.jsx(me,{item:!0,xs:6.4,sx:{marginRight:1},children:n.jsx(ae,{variant:"contained",role:"button",fullWidth:!0,onClick:()=>l(),children:"Apply"})})]})]})};qt.propTypes={handleClose:C.func};const Yr=Tt().shape({name:J().required("Full name is required"),gender:J().required("Unit type is required"),email:J().email().required("Email is required"),phone:J().required("Phone number is required"),unit:J().required("Unit is required"),position:J().required("The employee position is required"),start_date:Et().required("Employee start date is required")}),Xr=({update:e,isUpdating:t,onClose:r,EmployeeData:o,handleSubmission:s})=>{const i=Te(),[l,f]=d.useState([]),[j,u]=d.useState([]),[m,v]=d.useState([]),[T,P]=d.useState([]),p=(g,y)=>{v(y);const F=y.find(S=>!m.some(O=>O.uuid===S.uuid)),b=m.find(S=>!y.some(O=>O.uuid===S.uuid));F&&P(S=>[...S,F.uuid]),b&&P(S=>S.filter(O=>O!==b.uuid))},B=()=>m.map(g=>g.uuid),h=St({initialValues:{name:"",gender:"",email:"",phone:"",unit:"",position:"",role:"",start_date:""},validationSchema:Yr,onSubmit:g=>{s(g,B())}}),D=()=>{const g=localStorage.getItem("token"),y=M.api+M.units,F={Authorization:`Bearer ${g}`,accept:"application/json","Content-Type":"application/json"};fetch(y,{method:"GET",headers:F}).then(b=>b.json()).then(b=>{b.success&&f(b.data.data)}).catch(b=>{I(b.message)})},_=async()=>{const g=localStorage.getItem("token"),y=M.auth+M.roles,F={Authorization:`Bearer ${g}`,accept:"application/json","Content-Type":"application/json"};fetch(y,{method:"GET",headers:F}).then(b=>b.json()).then(b=>{b.success?u(b.data):I.error(b.data.message)}).catch(b=>{I(b.message)})},E=()=>{var g,y,F,b,S,O,Z,se;h.setValues({...h.values,name:(g=o==null?void 0:o.user)==null?void 0:g.name,gender:o==null?void 0:o.gender,email:(y=o==null?void 0:o.user)==null?void 0:y.email,phone:(F=o==null?void 0:o.user)==null?void 0:F.phone,unit:(S=(b=o==null?void 0:o.unit)==null?void 0:b.unit)==null?void 0:S.id,position:o==null?void 0:o.position,start_date:(Z=(O=o==null?void 0:o.unit)==null?void 0:O.started_date)==null?void 0:Z.split(" ")[0]}),v(((se=o==null?void 0:o.user)==null?void 0:se.roles)||[])};return d.useEffect(()=>(D(),_(),E(),()=>{}),[e]),n.jsx(d.Fragment,{children:n.jsxs(dt,{open:e,onClose:r,children:[n.jsxs(te,{sx:{position:"sticky",top:0,zIndex:2,width:"100%",backgroundColor:i.palette.primary.main,display:"flex",alignItems:"center",justifyContent:"space-between",paddingRight:2,paddingY:.6},children:[n.jsx(ut,{variant:"h4",color:i.palette.background.default,children:"Update Employee"}),n.jsx(Le,{onClick:r,children:n.jsx(at,{size:20,color:i.palette.background.default})})]}),n.jsxs("form",{noValidate:!0,onSubmit:h.handleSubmit,children:[n.jsxs(pt,{children:[n.jsxs(N,{fullWidth:!0,error:h.touched.name&&!!h.errors.name,sx:{marginTop:1},children:[n.jsx(Q,{htmlFor:"name",children:"Full name"}),n.jsx(re,{id:"name",name:"name",label:"Full name",value:h.values.name,onChange:h.handleChange,fullWidth:!0}),h.touched.name&&h.errors.name&&n.jsx(ne,{error:!0,id:"standard-weight-helper-text-name",children:h.errors.name})]}),n.jsxs(N,{error:h.touched.gender&&!!h.errors.gender,sx:{marginLeft:1.4,marginTop:2.4},children:[n.jsx(st,{id:"gender",children:"Gender"}),n.jsxs(lt,{"aria-labelledby":"gender",name:"gender",value:h.values.gender,onChange:h.handleChange,sx:{display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[n.jsx(xe,{value:"Male",control:n.jsx(be,{}),label:"Male"}),n.jsx(xe,{value:"Female",control:n.jsx(be,{}),label:"Female"})]})]}),n.jsxs(N,{fullWidth:!0,error:h.touched.email&&!!h.errors.email,sx:{marginTop:2.4},children:[n.jsx(Q,{htmlFor:"email",children:"Email address "}),n.jsx(re,{id:"email",name:"email",label:"Email address",value:h.values.email,onChange:h.handleChange,fullWidth:!0}),h.touched.email&&h.errors.email&&n.jsx(ne,{error:!0,id:"standard-weight-helper-text-name",children:h.errors.email})]}),n.jsxs(N,{fullWidth:!0,error:h.touched.phone&&!!h.errors.phone,sx:{marginTop:3},children:[n.jsx(Q,{htmlFor:"phone",children:"Phone number"}),n.jsx(re,{id:"phone",name:"phone",label:"Phone number",value:h.values.phone,onChange:h.handleChange,fullWidth:!0}),h.touched.phone&&h.errors.phone&&n.jsx(ne,{error:!0,id:"standard-weight-helper-text-phone",children:h.errors.phone})]}),n.jsxs(N,{fullWidth:!0,error:h.touched.unit&&!!h.errors.unit,sx:{marginTop:3},children:[n.jsx(Q,{htmlFor:"unit",children:"Unit"}),n.jsx(Ot,{id:"unit",name:"unit",label:"Unit",value:h.values.unit,onChange:h.handleChange,children:l.length===0?n.jsx(ie,{variant:"body2",sx:{padding:1},children:"Unit not found"}):l==null?void 0:l.map((g,y)=>n.jsx(ht,{value:g.id,children:g.name},y))})]}),n.jsx(Wt,{id:"roles",multiple:!0,options:j||[],getOptionLabel:g=>(g==null?void 0:g.name)||"",value:m,onChange:p,renderTags:(g,y)=>g.map((F,b)=>n.jsx(It,{className:"roles-chip",label:(F==null?void 0:F.name)||"",...y({index:b})})),fullWidth:!0,renderInput:g=>n.jsx(Pt,{...g,label:"Select Roles",variant:"outlined"}),sx:{marginTop:4}}),n.jsxs(N,{fullWidth:!0,error:h.touched.position&&!!h.errors.position,sx:{marginTop:3},children:[n.jsx(Q,{htmlFor:"position",children:"Position"}),n.jsx(re,{id:"position",name:"position",label:"Position",value:h.values.position,onChange:h.handleChange,fullWidth:!0}),h.touched.position&&h.errors.position&&n.jsx(ne,{error:!0,id:"standard-weight-helper-text-position",children:h.errors.position})]}),n.jsxs(N,{fullWidth:!0,error:h.touched.phone&&!!h.errors.phone,sx:{marginTop:3},children:[n.jsx(Q,{htmlFor:"start_date",shrink:!0,children:"Start Date"}),n.jsx(re,{id:"start_date",name:"start_date",label:"Start Date",type:"date",value:h.values.start_date,onChange:h.handleChange,fullWidth:!0}),h.touched.start_date&&h.errors.start_date&&n.jsx(ne,{error:!0,id:"standard-weight-helper-text-start_date",children:h.errors.start_date})]})]}),n.jsxs(ft,{sx:{paddingX:2},children:[n.jsx(ae,{onClick:r,sx:{marginLeft:10},children:"Cancel"}),n.jsx(ae,{type:"submit",variant:"contained",sx:{paddingX:6,boxShadow:0},disabled:t,children:t?n.jsx(ct,{size:18,sx:{color:"white"}}):"Done"})]})]})]})})};var mt={},Jr=zt;Object.defineProperty(mt,"__esModule",{value:!0});var Gt=mt.default=void 0,Qr=Jr($t()),Zr=n;Gt=mt.default=(0,Qr.default)((0,Zr.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function Ce(e,t,r,o){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function f(m){try{u(o.next(m))}catch(v){l(v)}}function j(m){try{u(o.throw(m))}catch(v){l(v)}}function u(m){m.done?i(m.value):s(m.value).then(f,j)}u((o=o.apply(e,t||[])).next())})}function Ae(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,s,i,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(u){return function(m){return j([u,m])}}function j(u){if(o)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(r=0)),r;)try{if(o=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(m){u=[6,m],s=0}finally{o=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function bt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var o=r.call(e),s,i=[],l;try{for(;(t===void 0||t-- >0)&&!(s=o.next()).done;)i.push(s.value)}catch(f){l={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(l)throw l.error}}return i}function vt(e,t,r){if(r||arguments.length===2)for(var o=0,s=t.length,i;o<s;o++)(i||!(o in t))&&(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}var en=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Ee(e,t){var r=tn(e);if(typeof r.path!="string"){var o=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof o=="string"&&o.length>0?o:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function tn(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var o=t.split(".").pop().toLowerCase(),s=en.get(o);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}var rn=[".DS_Store","Thumbs.db"];function nn(e){return Ce(this,void 0,void 0,function(){return Ae(this,function(t){return Ue(e)&&on(e.dataTransfer)?[2,cn(e.dataTransfer,e.type)]:an(e)?[2,sn(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,ln(e)]:[2,[]]})})}function on(e){return Ue(e)}function an(e){return Ue(e)&&Ue(e.target)}function Ue(e){return typeof e=="object"&&e!==null}function sn(e){return et(e.target.files).map(function(t){return Ee(t)})}function ln(e){return Ce(this,void 0,void 0,function(){var t;return Ae(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(o){return o.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(o){return Ee(o)})]}})})}function cn(e,t){return Ce(this,void 0,void 0,function(){var r,o;return Ae(this,function(s){switch(s.label){case 0:return e.items?(r=et(e.items).filter(function(i){return i.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(dn))]):[3,2];case 1:return o=s.sent(),[2,jt(Ht(o))];case 2:return[2,jt(et(e.files).map(function(i){return Ee(i)}))]}})})}function jt(e){return e.filter(function(t){return rn.indexOf(t.name)===-1})}function et(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var o=e[r];t.push(o)}return t}function dn(e){if(typeof e.webkitGetAsEntry!="function")return yt(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Nt(t):yt(e)}function Ht(e){return e.reduce(function(t,r){return vt(vt([],bt(t),!1),bt(Array.isArray(r)?Ht(r):[r]),!1)},[])}function yt(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=Ee(t);return Promise.resolve(r)}function un(e){return Ce(this,void 0,void 0,function(){return Ae(this,function(t){return[2,e.isDirectory?Nt(e):pn(e)]})})}function Nt(e){var t=e.createReader();return new Promise(function(r,o){var s=[];function i(){var l=this;t.readEntries(function(f){return Ce(l,void 0,void 0,function(){var j,u,m;return Ae(this,function(v){switch(v.label){case 0:if(f.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return j=v.sent(),r(j),[3,4];case 3:return u=v.sent(),o(u),[3,4];case 4:return[3,6];case 5:m=Promise.all(f.map(un)),s.push(m),i(),v.label=6;case 6:return[2]}})})},function(f){o(f)})}i()})}function pn(e){return Ce(this,void 0,void 0,function(){return Ae(this,function(t){return[2,new Promise(function(r,o){e.file(function(s){var i=Ee(s,e.fullPath);r(i)},function(s){o(s)})})]})})}var fn=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),o=e.name||"",s=(e.type||"").toLowerCase(),i=s.replace(/\/.*$/,"");return r.some(function(l){var f=l.trim().toLowerCase();return f.charAt(0)==="."?o.toLowerCase().endsWith(f):f.endsWith("/*")?i===f.replace(/\/.*$/,""):s===f})}return!0};function Ct(e){return mn(e)||gn(e)||Vt(e)||hn()}function hn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mn(e){if(Array.isArray(e))return tt(e)}function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,o)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?At(Object(r),!0).forEach(function(o){Kt(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e,t){return vn(e)||bn(e,t)||Vt(e,t)||xn()}function xn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vt(e,t){if(e){if(typeof e=="string")return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tt(e,t)}}function tt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function bn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o=[],s=!0,i=!1,l,f;try{for(r=r.call(e);!(s=(l=r.next()).done)&&(o.push(l.value),!(t&&o.length===t));s=!0);}catch(j){i=!0,f=j}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw f}}return o}}function vn(e){if(Array.isArray(e))return e}var jn="file-invalid-type",yn="file-too-large",Cn="file-too-small",An="too-many-files",Fn=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:jn,message:"File type must be ".concat(r)}},wt=function(t){return{code:yn,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Dt=function(t){return{code:Cn,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},wn={code:An,message:"Too many files"};function Yt(e,t){var r=e.type==="application/x-moz-file"||fn(e,t);return[r,r?null:Fn(t)]}function Xt(e,t,r){if(ge(e.size))if(ge(t)&&ge(r)){if(e.size>r)return[!1,wt(r)];if(e.size<t)return[!1,Dt(t)]}else{if(ge(t)&&e.size<t)return[!1,Dt(t)];if(ge(r)&&e.size>r)return[!1,wt(r)]}return[!0,null]}function ge(e){return e!=null}function Dn(e){var t=e.files,r=e.accept,o=e.minSize,s=e.maxSize,i=e.multiple,l=e.maxFiles,f=e.validator;return!i&&t.length>1||i&&l>=1&&t.length>l?!1:t.every(function(j){var u=Yt(j,r),m=Re(u,1),v=m[0],T=Xt(j,o,s),P=Re(T,1),p=P[0],B=f?f(j):null;return v&&p&&!B})}function qe(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function We(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function kt(e){e.preventDefault()}function kn(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function _n(e){return e.indexOf("Edge/")!==-1}function Rn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return kn(e)||_n(e)}function ee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(o){for(var s=arguments.length,i=new Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];return t.some(function(f){return!qe(o)&&f&&f.apply(void 0,[o].concat(i)),qe(o)})}}function Tn(){return"showOpenFilePicker"in window}function En(e){if(ge(e)){var t=Object.entries(e).filter(function(r){var o=Re(r,2),s=o[0],i=o[1],l=!0;return Jt(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(i)||!i.every(Qt))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(r,o){var s=Re(o,2),i=s[0],l=s[1];return Ft(Ft({},r),{},Kt({},i,l))},{});return[{description:"Files",accept:t}]}return e}function Sn(e){if(ge(e))return Object.entries(e).reduce(function(t,r){var o=Re(r,2),s=o[0],i=o[1];return[].concat(Ct(t),[s],Ct(i))},[]).filter(function(t){return Jt(t)||Qt(t)}).join(",")}function On(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function In(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Jt(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Qt(e){return/^.*\.[\w]+$/.test(e)}var Pn=["children"],Bn=["open"],$n=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],zn=["refKey","onChange","onClick"];function Mn(e){return Un(e)||Ln(e)||Zt(e)||Wn()}function Wn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ln(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Un(e){if(Array.isArray(e))return rt(e)}function Ze(e,t){return Hn(e)||Gn(e,t)||Zt(e,t)||qn()}function qn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zt(e,t){if(e){if(typeof e=="string")return rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rt(e,t)}}function rt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Gn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o=[],s=!0,i=!1,l,f;try{for(r=r.call(e);!(s=(l=r.next()).done)&&(o.push(l.value),!(t&&o.length===t));s=!0);}catch(j){i=!0,f=j}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw f}}return o}}function Hn(e){if(Array.isArray(e))return e}function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,o)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_t(Object(r),!0).forEach(function(o){nt(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ge(e,t){if(e==null)return{};var r=Nn(e,t),o,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)o=i[s],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Nn(e,t){if(e==null)return{};var r={},o=Object.keys(e),s,i;for(i=0;i<o.length;i++)s=o[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var xt=d.forwardRef(function(e,t){var r=e.children,o=Ge(e,Pn),s=tr(o),i=s.open,l=Ge(s,Bn);return d.useImperativeHandle(t,function(){return{open:i}},[i]),Mt.createElement(d.Fragment,null,r(R(R({},l),{},{open:i})))});xt.displayName="Dropzone";var er={disabled:!1,getFilesFromEvent:nn,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};xt.defaultProps=er;xt.propTypes={children:C.func,accept:C.objectOf(C.arrayOf(C.string)),multiple:C.bool,preventDropOnDocument:C.bool,noClick:C.bool,noKeyboard:C.bool,noDrag:C.bool,noDragEventsBubbling:C.bool,minSize:C.number,maxSize:C.number,maxFiles:C.number,disabled:C.bool,getFilesFromEvent:C.func,onFileDialogCancel:C.func,onFileDialogOpen:C.func,useFsAccessApi:C.bool,autoFocus:C.bool,onDragEnter:C.func,onDragLeave:C.func,onDragOver:C.func,onDrop:C.func,onDropAccepted:C.func,onDropRejected:C.func,onError:C.func,validator:C.func};var ot={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function tr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=R(R({},er),e),r=t.accept,o=t.disabled,s=t.getFilesFromEvent,i=t.maxSize,l=t.minSize,f=t.multiple,j=t.maxFiles,u=t.onDragEnter,m=t.onDragLeave,v=t.onDragOver,T=t.onDrop,P=t.onDropAccepted,p=t.onDropRejected,B=t.onFileDialogCancel,h=t.onFileDialogOpen,D=t.useFsAccessApi,_=t.autoFocus,E=t.preventDropOnDocument,g=t.noClick,y=t.noKeyboard,F=t.noDrag,b=t.noDragEventsBubbling,S=t.onError,O=t.validator,Z=d.useMemo(function(){return Sn(r)},[r]),se=d.useMemo(function(){return En(r)},[r]),Fe=d.useMemo(function(){return typeof h=="function"?h:Rt},[h]),ue=d.useMemo(function(){return typeof B=="function"?B:Rt},[B]),W=d.useRef(null),K=d.useRef(null),He=d.useReducer(Kn,ot),we=Ze(He,2),De=we[0],H=we[1],Se=De.isFocused,Oe=De.isFileDialogActive,ve=d.useRef(typeof window<"u"&&window.isSecureContext&&D&&Tn()),Ie=function(){!ve.current&&Oe&&setTimeout(function(){if(K.current){var x=K.current.files;x.length||(H({type:"closeDialog"}),ue())}},300)};d.useEffect(function(){return window.addEventListener("focus",Ie,!1),function(){window.removeEventListener("focus",Ie,!1)}},[K,Oe,ue,ve]);var le=d.useRef([]),Pe=function(x){W.current&&W.current.contains(x.target)||(x.preventDefault(),le.current=[])};d.useEffect(function(){return E&&(document.addEventListener("dragover",kt,!1),document.addEventListener("drop",Pe,!1)),function(){E&&(document.removeEventListener("dragover",kt),document.removeEventListener("drop",Pe))}},[W,E]),d.useEffect(function(){return!o&&_&&W.current&&W.current.focus(),function(){}},[W,_,o]);var oe=d.useCallback(function(c){S?S(c):console.error(c)},[S]),Be=d.useCallback(function(c){c.preventDefault(),c.persist(),he(c),le.current=[].concat(Mn(le.current),[c.target]),We(c)&&Promise.resolve(s(c)).then(function(x){if(!(qe(c)&&!b)){var $=x.length,U=$>0&&Dn({files:x,accept:Z,minSize:l,maxSize:i,multiple:f,maxFiles:j,validator:O}),V=$>0&&!U;H({isDragAccept:U,isDragReject:V,isDragActive:!0,type:"setDraggedFiles"}),u&&u(c)}}).catch(function(x){return oe(x)})},[s,u,oe,b,Z,l,i,f,j,O]),$e=d.useCallback(function(c){c.preventDefault(),c.persist(),he(c);var x=We(c);if(x&&c.dataTransfer)try{c.dataTransfer.dropEffect="copy"}catch{}return x&&v&&v(c),!1},[v,b]),je=d.useCallback(function(c){c.preventDefault(),c.persist(),he(c);var x=le.current.filter(function(U){return W.current&&W.current.contains(U)}),$=x.indexOf(c.target);$!==-1&&x.splice($,1),le.current=x,!(x.length>0)&&(H({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),We(c)&&m&&m(c))},[W,m,b]),pe=d.useCallback(function(c,x){var $=[],U=[];c.forEach(function(V){var ke=Yt(V,Z),ye=Ze(ke,2),Ne=ye[0],Ke=ye[1],Ve=Xt(V,l,i),Me=Ze(Ve,2),Ye=Me[0],Xe=Me[1],Je=O?O(V):null;if(Ne&&Ye&&!Je)$.push(V);else{var Qe=[Ke,Xe];Je&&(Qe=Qe.concat(Je)),U.push({file:V,errors:Qe.filter(function(or){return or})})}}),(!f&&$.length>1||f&&j>=1&&$.length>j)&&($.forEach(function(V){U.push({file:V,errors:[wn]})}),$.splice(0)),H({acceptedFiles:$,fileRejections:U,type:"setFiles"}),T&&T($,U,x),U.length>0&&p&&p(U,x),$.length>0&&P&&P($,x)},[H,f,Z,l,i,j,T,P,p,O]),a=d.useCallback(function(c){c.preventDefault(),c.persist(),he(c),le.current=[],We(c)&&Promise.resolve(s(c)).then(function(x){qe(c)&&!b||pe(x,c)}).catch(function(x){return oe(x)}),H({type:"reset"})},[s,pe,oe,b]),k=d.useCallback(function(){if(ve.current){H({type:"openDialog"}),Fe();var c={multiple:f,types:se};window.showOpenFilePicker(c).then(function(x){return s(x)}).then(function(x){pe(x,null),H({type:"closeDialog"})}).catch(function(x){On(x)?(ue(x),H({type:"closeDialog"})):In(x)?(ve.current=!1,K.current?(K.current.value=null,K.current.click()):oe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):oe(x)});return}K.current&&(H({type:"openDialog"}),Fe(),K.current.value=null,K.current.click())},[H,Fe,ue,D,pe,oe,se,f]),G=d.useCallback(function(c){!W.current||!W.current.isEqualNode(c.target)||(c.key===" "||c.key==="Enter"||c.keyCode===32||c.keyCode===13)&&(c.preventDefault(),k())},[W,k]),A=d.useCallback(function(){H({type:"focus"})},[]),Y=d.useCallback(function(){H({type:"blur"})},[]),L=d.useCallback(function(){g||(Rn()?setTimeout(k,0):k())},[g,k]),w=function(x){return o?null:x},ce=function(x){return y?null:w(x)},fe=function(x){return F?null:w(x)},he=function(x){b&&x.stopPropagation()},ze=d.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=c.refKey,$=x===void 0?"ref":x,U=c.role,V=c.onKeyDown,ke=c.onFocus,ye=c.onBlur,Ne=c.onClick,Ke=c.onDragEnter,Ve=c.onDragOver,Me=c.onDragLeave,Ye=c.onDrop,Xe=Ge(c,$n);return R(R(nt({onKeyDown:ce(ee(V,G)),onFocus:ce(ee(ke,A)),onBlur:ce(ee(ye,Y)),onClick:w(ee(Ne,L)),onDragEnter:fe(ee(Ke,Be)),onDragOver:fe(ee(Ve,$e)),onDragLeave:fe(ee(Me,je)),onDrop:fe(ee(Ye,a)),role:typeof U=="string"&&U!==""?U:"presentation"},$,W),!o&&!y?{tabIndex:0}:{}),Xe)}},[W,G,A,Y,L,Be,$e,je,a,y,F,o]),rr=d.useCallback(function(c){c.stopPropagation()},[]),nr=d.useMemo(function(){return function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=c.refKey,$=x===void 0?"ref":x,U=c.onChange,V=c.onClick,ke=Ge(c,zn),ye=nt({accept:Z,multiple:f,type:"file",style:{display:"none"},onChange:w(ee(U,a)),onClick:w(ee(V,rr)),tabIndex:-1},$,K);return R(R({},ye),ke)}},[K,r,f,a,o]);return R(R({},De),{},{isFocused:Se&&!o,getRootProps:ze,getInputProps:nr,rootRef:W,inputRef:K,open:w(k)})}function Kn(e,t){switch(t.type){case"focus":return R(R({},e),{},{isFocused:!0});case"blur":return R(R({},e),{},{isFocused:!1});case"openDialog":return R(R({},ot),{},{isFileDialogActive:!0});case"closeDialog":return R(R({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return R(R({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return R(R({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return R({},ot);default:return e}}function Rt(){}const Vn=({open:e,onClose:t,onUpload:r,uploadProgress:o,onRemove:s})=>{const i=Te(),[l,f]=d.useState(null),j=p=>{f(p[0])},{getRootProps:u,getInputProps:m,isDragActive:v}=tr({onDrop:j,accept:".xls,.xlsx",multiple:!1}),T=()=>{f(null),s()},P=()=>{l?r(l):I.error("There is an issue uploading the file")};return n.jsxs(dt,{open:e,onClose:t,"aria-labelledby":"upload-dialog-title",sx:{backdropFilter:i.backdropFilter},children:[n.jsxs(jr,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{paddingRight:1,my:.5,minWidth:{xl:"500px",lg:"500px",md:400,sm:"80%"}},children:[n.jsx(ut,{id:"upload-dialog-title",variant:"h3",color:i.palette.text.primary,fontWeight:i.typography.fontWeightMedium,children:"Upload File"}),n.jsx(Le,{onClick:t,children:n.jsx(Gt,{})})]}),n.jsx(pt,{children:l?n.jsxs(te,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:2.4,border:`0.8px solid ${i.palette.divider}`,textAlign:"center",cursor:"pointer",borderRadius:i.shape.borderRadius,backgroundColor:i.palette.primary.light},children:[n.jsxs(te,{...u(),sx:{display:"flex",alignItems:"center"},children:[n.jsx("input",{...m()}),n.jsx(Lr,{stroke:1.6,size:"1.8rem",color:i.palette.success.dark}),n.jsx(te,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:2.4},children:n.jsx(ie,{variant:"h4",textAlign:"left",fontWeight:i.typography.fontWeightMedium,color:i.palette.text.primary,children:l.name})})]}),n.jsx(Le,{sx:{zIndex:2},onClick:T,children:n.jsx(at,{size:20})})]}):n.jsxs(te,{...u(),sx:{border:`1px dashed ${i.palette.divider}`,padding:2,textAlign:"center",cursor:"pointer",borderRadius:i.shape.borderRadius,backgroundColor:v?i.palette.primary.light:i.palette.background.default},children:[n.jsx("input",{...m()}),n.jsxs(te,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center",padding:2},children:[n.jsx(te,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:50,height:50,borderRadius:25,boxShadow:1,padding:1},children:n.jsx(Ur,{stroke:1.6,size:"1.4rem",color:i.palette.success.dark})}),n.jsxs(te,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:2.4},children:[n.jsxs(ie,{variant:"h4",textAlign:"left",fontWeight:i.typography.fontWeightMedium,color:i.palette.text.primary,children:["Click to upload or drag & drop the excel file"," "]}),n.jsx(ie,{variant:"subtitle1",fontWeight:i.typography.fontWeightRegular,color:i.palette.text.disabled,children:"Max 10 MB"})]})]})]})}),n.jsxs(ft,{sx:{display:"flex",alignItems:"center",marginBottom:2},children:[l&&o>0&&n.jsx(kr,{value:o,sx:{paddingRight:2}}),n.jsx(ae,{variant:"contained",color:"primary",onClick:P,sx:{marginRight:2,paddingX:2},disabled:!l||o>0,children:"Upload"})]})]})},Yn=["Add Employee","Import From Excel"],bo=()=>{var pe;const e=Te(),t=yr(),[r,o]=d.useState(null),[s,i]=d.useState(!1),[l,f]=d.useState([]),[j,u]=d.useState(!1),[m,v]=d.useState({page:0,perPage:10,last_page:1}),[T,P]=d.useState(!1),[p,B]=d.useState(!1),[h,D]=d.useState(!1),[_,E]=d.useState(!1),[g,y]=d.useState(""),[F,b]=d.useState(!1),[S,O]=d.useState(!1),[Z,se]=d.useState(!1),[Fe,ue]=d.useState(0),W=()=>{se(!0)},K=()=>{se(!1)},He=async a=>{const k=localStorage.getItem("token"),G=M.auth+M.employeeExcel,A={Authorization:`Bearer ${k}`,"Content-Type":"multipart/form-data"},Y=new FormData;Y.append("employee_excel",a);try{const L=await _r.post(G,Y,{headers:A,onUploadProgress:w=>{const ce=Math.round(w.loaded*100/w.total);ue(ce)}});L.success?I.success(L.data.message):I.error(L.data.message)}catch(L){L.response?I.error(L.response.data.message):I.error(L.message)}},we=()=>{P(!0)},De=()=>{P(!1)},H=a=>{o(a),D(!0)},Se=()=>{D(!1)},Oe=a=>{const k=a.target.value;y(k),v({...m,page:0})},ve=a=>{a===0?we():a===1?W():alert("We will be implement importing from odoo")},Ie=(a,k)=>{B(!0);const G=localStorage.getItem("token"),A=M.api+M.employees,Y={Authorization:`Bearer ${G}`,accept:"application/json","Content-Type":"application/json"},L={name:a==null?void 0:a.name,gender:a==null?void 0:a.gender,email:a==null?void 0:a.email,phone:a==null?void 0:a.phone,position:a==null?void 0:a.position,unit_id:a==null?void 0:a.unit,roles:k,started_date:a==null?void 0:a.start_date,password:"password",password_confirmation:"password"};fetch(A,{method:"POST",headers:Y,body:JSON.stringify(L)}).then(w=>w.json()).then(w=>{w.success?(B(!1),we(),I.success(w.data.message)):(B(!1),I.error(w.data.message))}).catch(w=>{I.error(w.message),B(!1)})},le=(a,k)=>{E(!0);const G=localStorage.getItem("token");if(!G){I.error("Authorization token is missing."),E(!1);return}const A=M.api+M.employees+`/${(r==null?void 0:r.id)||""}`,Y={Authorization:`Bearer ${G}`,accept:"application/json","Content-Type":"application/json"},L={name:a==null?void 0:a.name,gender:a==null?void 0:a.gender,email:a==null?void 0:a.email,phone:a==null?void 0:a.phone,position:a==null?void 0:a.position,unit_id:a==null?void 0:a.unit,roles:k,started_date:a==null?void 0:a.start_date};fetch(A,{method:"PATCH",headers:Y,body:JSON.stringify(L)}).then(w=>w.json()).then(w=>{w.success?(E(!1),Se(),je()):(E(!1),I.error(w.data.message))}).catch(w=>{E(!1),I.error(w.message)})},Pe=a=>{o(a),b(!0)},oe=()=>{O(!0);const a=localStorage.getItem("token"),k=M.api+M.employees+"/"+r.id,G={Authorization:"Bearer"+a,accept:"application/json","Content-Type":"application/json"};fetch(k,{method:"DELETE",headers:G}).then(A=>A.json()).then(A=>{A.success?(O(!1),b(!1),I.success(A.data.message),je()):(O(!1),I.error(A.data.message))}).catch(A=>{O(!1),I.error(A.message)})},Be=(a,k)=>{v({...m,page:k})},$e=a=>{v({...m,perPage:a.target.value}),setPage(0)},je=()=>{i(!0);const a=localStorage.getItem("token"),k=M.api+M.employees+`?page=${m.page}&per_page=${m.perPage}&search=${g}`,G={Authorization:`Bearer ${a}`,accept:"application/json","Content-Type":"application/json"};fetch(k,{method:"GET",headers:G}).then(A=>A.json()).then(A=>{A.success?(f(A.data.data),v({...m,last_page:A.data.last_page}),i(!1),u(!1)):(i(!1),u(!1),I.warning(A.data.message))}).catch(A=>{I.warning(A.message),u(!0),i(!1)})};return d.useEffect(()=>(je(),()=>{}),[m.page,m.perPage,g]),n.jsxs(Cr,{title:"Employees",children:[n.jsx(me,{container:!0,padding:2,children:n.jsxs(me,{item:!0,xs:12,children:[n.jsx(me,{container:!0,children:n.jsxs(me,{item:!0,xs:12,sx:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingY:3},children:[n.jsx(Ar,{title:"Filter Employees",value:g,onChange:a=>Oe(a),filter:!1,children:n.jsx(qt,{})}),n.jsx(Ut,{options:Yn,handleSelection:a=>ve(a)})]})}),n.jsx(Rr,{sx:{minHeight:"66dvh",border:.4,borderColor:e.palette.divider,borderRadius:2},children:n.jsxs(Tr,{sx:{minWidth:650},"aria-label":"Employes table",children:[n.jsx(Er,{children:n.jsxs(_e,{children:[n.jsx(z,{children:"Name"}),n.jsx(z,{children:"Gender"}),n.jsx(z,{children:"Email"}),n.jsx(z,{children:"Phone"}),n.jsx(z,{children:"Position"}),n.jsx(z,{children:"Role"}),n.jsx(z,{children:"Starting date"}),n.jsx(z,{children:"Actions"})]})}),n.jsx(Sr,{children:s?n.jsx(_e,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:4},children:n.jsx(z,{colSpan:7,sx:{border:0,alignItems:"center",justifyContent:"center"},children:n.jsx(ct,{size:20})})}):j?n.jsx(_e,{sx:{padding:4},children:n.jsx(z,{colSpan:7,sx:{border:0},children:n.jsx(ie,{variant:"body2",children:"There is error fetching the Employees"})})}):l.length===0?n.jsx(_e,{sx:{padding:4},children:n.jsx(z,{colSpan:7,sx:{border:0},children:n.jsx(ie,{variant:"body2",children:"Employees not found"})})}):l==null?void 0:l.map((a,k)=>{var G,A,Y,L,w,ce,fe,he,ze;return n.jsxs(_e,{sx:{backgroundColor:r==k?e.palette.grey[100]:e.palette.background.default,":hover":{backgroundColor:e.palette.grey[100],color:e.palette.background.default,cursor:"pointer",borderRadius:2}},children:[n.jsx(z,{sx:{display:"flex",alignItems:"center",border:0},children:n.jsx(ie,{variant:"subtitle1",color:e.palette.text.primary,children:(G=a==null?void 0:a.user)==null?void 0:G.name})}),n.jsx(z,{sx:{border:0},children:a!=null&&a.gender?a==null?void 0:a.gender:"N/A"}),n.jsx(z,{sx:{border:0},children:(A=a==null?void 0:a.user)==null?void 0:A.email}),n.jsx(z,{sx:{border:0},children:(Y=a==null?void 0:a.user)!=null&&Y.phone?(L=a==null?void 0:a.user)==null?void 0:L.phone:"N/A"}),n.jsx(z,{sx:{border:0},children:a!=null&&a.position?a==null?void 0:a.position:"N/A"}),n.jsx(z,{sx:{border:0},children:(ce=(w=a==null?void 0:a.user)==null?void 0:w.roles)!=null&&ce.name?(he=(fe=a==null?void 0:a.user)==null?void 0:fe.roles)==null?void 0:he.name:"N/A"}),n.jsx(z,{sx:{border:0},children:Fr((ze=a==null?void 0:a.unit)==null?void 0:ze.started_date)}),n.jsx(z,{sx:{border:0},children:n.jsx(wr,{onView:()=>t("/employees/view",{state:a}),onEdit:()=>H(a),onDelete:()=>Pe(a)})})]},a.id)})})]})}),n.jsx(Or,{component:"div",rowsPerPageOptions:[10,25,50,100],count:m.last_page,rowsPerPage:m.perPage,page:m.page,onPageChange:Be,onRowsPerPageChange:$e})]})}),n.jsx(Hr,{add:T,isAdding:p,onClose:De,handleSubmission:(a,k)=>Ie(a,k)}),r&&n.jsx(Xr,{update:h,isUpdating:_,EmployeeData:r,onClose:()=>Se(),handleSubmission:(a,k)=>le(a,k)}),F&&n.jsx(Dr,{type:"Delete",open:F,title:"Removing Employee",description:"Are you sure you want to remove "+((pe=r==null?void 0:r.user)==null?void 0:pe.name),onNo:()=>b(!1),onYes:()=>oe(),deleting:S,handleClose:()=>b(!1)}),n.jsx(Vn,{open:Z,onClose:K,onUpload:He,uploadProgress:Fe,onRemove:()=>ue(0)}),n.jsx(Bt,{})]})};export{bo as default};
