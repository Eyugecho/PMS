import{P as T,Y as p,ak as W,R as h,r as s,j as e,b1 as k,a8 as m,a0 as t,p as r,as as o,a5 as A,a6 as I,aq as P,ar as D,v as L,ag as w,a9 as E,a4 as N,a1 as B}from"./index-BrIZ1aRM.js";import{E as z}from"./EarningCard-JiNwFFwY.js";import{F as C}from"./index-CJagu-9E.js";import{S as F}from"./search-f3t_tkff.js";import{T as G}from"./TableContainer-CbJxeCPv.js";import{T as M,a as Y,b as j,c as _}from"./TableRow-BXiBQlkf.js";import{T as l}from"./TableCell-BqWHfhA4.js";import{S as O}from"./Snackbar-CvP7LuYl.js";import{A as $}from"./Alert-CR4F7He2.js";import"./error-DW4k7GIP.js";import"./Close-BzhvbiYv.js";const R=()=>{const i=p();W(),h.useState(null),h.useState(null);const[c,d]=h.useState(0),[b,u]=h.useState(0),[S,g]=h.useState(!1),y=()=>{g(!0),A().then(f=>{const v=I.api+I.getCount;fetch(v,{method:"GET",headers:{Authorization:`Bearer ${f}`,accept:"application/json","Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{n.success?(d(n.data.used_kpis),u(n.data.my_kpi)):(d(0),u(0),toast.warning(n.message)),g(!1)}).catch(n=>{d(0),u(0),toast.warning(n.message),g(!1)})})};return s.useEffect(()=>{y()},[]),e.jsx(e.Fragment,{children:S?e.jsx(z,{}):e.jsx(k,{border:!1,content:!1,children:e.jsx(m,{sx:{ml:1},children:e.jsxs(t,{container:!0,direction:"column",children:[e.jsx(t,{item:!0,children:e.jsx(t,{container:!0,justifyContent:"space-between",children:e.jsx(t,{item:!0,children:e.jsx(r,{variant:"h3",sx:{mt:1.2,color:"grey.500"},children:"KPI"})})})}),e.jsx(o,{sx:{borderBottom:.4,borderColor:i.palette.grey[300],marginY:3}}),e.jsx(t,{item:!0,sx:{mb:.75,cursor:"pointer"},children:e.jsxs(t,{container:!0,alignItems:"center",children:[e.jsx(t,{item:!0,xs:5,children:e.jsxs(t,{container:!0,alignItems:"center",children:[e.jsx(o,{orientation:"vertical",flexItem:!0,sx:{borderRightWidth:15,borderColor:"rgb(77, 173, 127)",mr:2,height:"9vh"}}),e.jsxs(t,{item:!0,sx:{mt:1},children:[e.jsx(r,{sx:{fontSize:"1rem",fontWeight:500,color:"grey.800"},children:"Total KPI"}),e.jsxs(r,{sx:{fontSize:"2.125rem",fontWeight:500,mr:1,mt:0,mb:.75},children:[c,e.jsx(r,{component:"span",sx:{fontSize:"0.75rem",verticalAlign:"sub"},children:"Number of KPI"})]})]})]})}),e.jsx(t,{item:!0,xs:0,children:e.jsx(o,{orientation:"vertical",flexItem:!0,sx:{borderRightWidth:.4,borderColor:i.palette.grey[300],height:"15vh",mr:5}})}),e.jsx(t,{item:!0,xs:5,children:e.jsxs(t,{container:!0,alignItems:"center",children:[e.jsx(o,{orientation:"vertical",flexItem:!0,sx:{borderRightWidth:15,borderColor:"rgb(234,170,103)",mr:2,height:"9vh"}}),e.jsxs(t,{item:!0,sx:{mt:1},children:[e.jsx(r,{sx:{fontSize:"1rem",fontWeight:500,color:"grey.800"},children:"Assigned KPI"}),e.jsxs(r,{sx:{fontSize:"2.125rem",fontWeight:500,mr:1,mt:0,mb:.75},children:[b,e.jsx(r,{component:"span",sx:{fontSize:"0.75rem",verticalAlign:"sub",color:"grey.500"},children:"Number of KPI"})]})]})]})})]})})]})})})})};R.propTypes={isLoading:T.bool};const H=()=>{s.useState(!1),s.useState(null);const[i,c]=s.useState(!1),[d,b]=s.useState(""),[u,S]=s.useState("success");s.useState({date:new Date().toISOString().split("T")[0],revenue:"",expenses:"",profit:"",customer_satisfaction:"",plan:"",completed:"",challenge_faced:""}),s.useState(null),s.useState(null);const[g,y]=s.useState(!1),[f,v]=s.useState(null),[n,q]=s.useState([{id:1,plan:"Increase Revenue",completed:"75%",status:"Assigned",department:"Marketing",date:"2024-08-01"},{id:2,plan:"Reduce Costs",completed:"50%",status:"Assigned",department:"Finance",date:"2024-08-05"},{id:3,plan:"Improve Customer Satisfaction",completed:"90%",status:"Not Assigned",department:"Sales",date:"2024-08-10"}]),x=p();return e.jsxs(P,{children:[e.jsxs(D,{children:[e.jsx(o,{sx:{borderBottom:.4,borderColor:x.palette.grey[300],marginY:3}}),e.jsxs(t,{container:!0,justifyContent:"space-between",children:[e.jsx(t,{item:!0,children:e.jsx(r,{variant:"h3",sx:{mt:0,color:"grey.500"},children:"All KPI"})}),e.jsx(F,{})]}),e.jsx(m,{mt:1,children:e.jsx(G,{component:L,children:e.jsxs(M,{children:[e.jsx(Y,{children:e.jsx(j,{children:["KPI Name","Weight","Status","Department","Date"].map(a=>e.jsx(l,{sx:{background:x.palette.grey[100],color:"#000",fontWeight:"bold",fontSize:"0.9rem",borderBottom:`2px solid ${x.palette.divider}`,position:"relative",padding:"12px 16px","&:not(:last-of-type)":{borderRight:`1px solid ${x.palette.divider}`}},children:a},a))})}),e.jsx(_,{children:g?e.jsx(j,{children:e.jsx(l,{colSpan:5,children:e.jsx(m,{sx:{padding:2,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(w,{size:22})})})}):f?e.jsx(j,{children:e.jsx(l,{colSpan:5,children:e.jsx(m,{sx:{padding:2,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(C,{severity:"error",title:"Server error",description:"There is an error fetching data"})})})}):n.length===0?e.jsx(j,{children:e.jsx(l,{colSpan:5,children:e.jsx(m,{sx:{paddingTop:6,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(C,{severity:"info",title:"No Data",description:"No KPI records found"})})})}):n.map(a=>e.jsxs(j,{sx:{backgroundColor:x.palette.background.paper,borderRadius:2,"&:nth-of-type(odd)":{backgroundColor:x.palette.grey[50]},"&:hover":{backgroundColor:x.palette.grey[100]}},children:[e.jsx(l,{sx:{border:0,padding:"12px 16px"},children:a.plan}),e.jsx(l,{sx:{border:0,padding:"12px 16px"},children:a.completed}),e.jsx(l,{sx:{border:0,padding:"12px 16px"},children:a.status}),e.jsx(l,{sx:{border:0,padding:"12px 16px"},children:a.department}),e.jsx(l,{sx:{border:0,padding:"12px 16px"},children:a.date})]},a.id))})]})})})]}),e.jsx(O,{open:i,autoHideDuration:6e3,onClose:()=>c(!1),children:e.jsx($,{onClose:()=>c(!1),severity:u,sx:{width:"100%"},children:d})})]})},K=({isLoading:i})=>{const c=p();return W(),h.useState(null),h.useState(null),e.jsx(e.Fragment,{children:i?e.jsx(z,{}):e.jsx(k,{border:!1,content:!1,children:e.jsx(m,{sx:{ml:1},children:e.jsxs(t,{container:!0,direction:"column",children:[e.jsx(t,{item:!0,children:e.jsx(t,{container:!0,justifyContent:"space-between",children:e.jsx(t,{item:!0,children:e.jsx(r,{variant:"h3",sx:{mt:1.2,color:"grey.500"},children:"KPI List"})})})}),e.jsx(o,{sx:{borderBottom:.4,borderColor:c.palette.grey[300],marginY:3}}),e.jsxs(t,{item:!0,sx:{mb:0,cursor:"pointer"},children:[e.jsxs(t,{container:!0,alignItems:"center",children:[e.jsx(t,{item:!0,xs:4,children:e.jsxs(t,{container:!0,alignItems:"center",children:[e.jsx(o,{orientation:"vertical",flexItem:!0,sx:{borderRightWidth:15,borderColor:"rgb(77, 173, 127)",mr:2,height:"3vh"}}),e.jsx(t,{item:!0,sx:{mt:1},children:e.jsx(r,{sx:{fontSize:"1.2rem",fontWeight:500,color:"grey.800"},children:"Revenue Growth"})})]})}),e.jsx(t,{item:!0,xs:4,children:e.jsx(t,{container:!0,alignItems:"center",children:e.jsx(t,{item:!0,sx:{mt:1},children:e.jsx(r,{sx:{fontSize:"1rem",fontWeight:500,color:"grey.800"},children:"Not Assigned"})})})}),e.jsx(t,{item:!0,xs:4,children:e.jsx(t,{container:!0,alignItems:"center",children:e.jsx(t,{item:!0,sx:{mt:1},children:e.jsx(r,{sx:{fontSize:"1rem",fontWeight:500,color:"grey.800"},children:"80%"})})})})]}),e.jsxs(t,{container:!0,alignItems:"center",sx:{mt:2},children:[e.jsx(t,{item:!0,xs:4,children:e.jsxs(t,{container:!0,alignItems:"center",children:[e.jsx(o,{orientation:"vertical",flexItem:!0,sx:{borderRightWidth:15,borderColor:"rgb(77, 173, 127)",mr:2,height:"3vh"}}),e.jsx(t,{item:!0,sx:{mt:1},children:e.jsx(r,{sx:{fontSize:"1.2rem",fontWeight:500,color:"grey.800"},children:"Employee Turnover Rate"})})]})}),e.jsx(t,{item:!0,xs:4,children:e.jsx(t,{container:!0,alignItems:"center",children:e.jsx(t,{item:!0,sx:{mt:1},children:e.jsx(r,{sx:{fontSize:"1rem",fontWeight:500,color:"grey.800"},children:"Not Assigned"})})})}),e.jsx(t,{item:!0,xs:4,children:e.jsx(t,{container:!0,alignItems:"center",children:e.jsx(t,{item:!0,sx:{mt:1},children:e.jsx(r,{sx:{fontSize:"1rem",fontWeight:500,color:"grey.800"},children:"80%"})})})})]}),e.jsxs(t,{container:!0,alignItems:"center",sx:{mt:2},children:[e.jsx(t,{item:!0,xs:4,children:e.jsxs(t,{container:!0,alignItems:"center",children:[e.jsx(o,{orientation:"vertical",flexItem:!0,sx:{borderRightWidth:15,borderColor:"rgb(234,170,103)",mr:2,height:"3vh"}}),e.jsx(t,{item:!0,sx:{mt:1},children:e.jsx(r,{sx:{fontSize:"1.2rem",fontWeight:500,color:"grey.800"},children:"Customer Satisfaction"})})]})}),e.jsx(t,{item:!0,xs:4,children:e.jsx(t,{container:!0,alignItems:"center",children:e.jsx(t,{item:!0,sx:{mt:1},children:e.jsx(r,{sx:{fontSize:"1rem",fontWeight:500,color:"grey.800"},children:"Assigned"})})})}),e.jsx(t,{item:!0,xs:4,children:e.jsx(t,{container:!0,alignItems:"center",children:e.jsx(t,{item:!0,sx:{mt:1},children:e.jsx(r,{sx:{fontSize:"1rem",fontWeight:500,color:"grey.800"},children:"80%"})})})})]})]})]})})})})};K.propTypes={isLoading:T.bool};const ie=()=>{const[i,c]=s.useState(!0),d=p();return s.useEffect(()=>{c(!1)},[]),e.jsx(E,{maxWidth:"lg",title:"Detail Report",children:e.jsx(N,{sx:{marginLeft:"10px",padding:"8px",marginTop:"25px"},children:e.jsx(t,{container:!0,spacing:B,children:e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:"0",children:[e.jsx(t,{item:!0,lg:6,md:6,sm:6,xs:12,children:e.jsx(R,{isLoading:i})}),e.jsx(t,{item:!0,xs:0,children:e.jsx(o,{orientation:"vertical",flexItem:!0,sx:{borderRightWidth:.4,borderColor:d.palette.grey[300],height:"38vh",ml:1}})}),e.jsx(t,{item:!0,lg:5.9,md:6,sm:6,xs:12,children:e.jsx(K,{isLoading:i})}),e.jsx(t,{item:!0,lg:12,md:6,sm:6,xs:12,children:e.jsx(H,{isLoading:i})})]})})})})})};export{ie as default};
