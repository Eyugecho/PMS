import{c as er,P as d,r as p,j as f,bh as br,Y as ye,bi as xr,bj as Dr,bk as wr,t as jr,bl as Ar,bm as Er,a3 as Fr,al as Or,am as Cr,R as _r,l as kr,_ as Ir,aG as Sr,$ as Pr,I as Be,a1 as Rr,m as I,b as me,a0 as Tr,a4 as Mr,B as zr}from"./index-DL-CLDEe.js";import{L as Lr}from"./LinearProgress-DLE-4oj1.js";var $r=er("file-check","IconFileCheck",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 15l2 2l4 -4",key:"svg-2"}]]),Wr=er("file-upload","IconFileUpload",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M9.5 13.5l2.5 -2.5l2.5 2.5",key:"svg-3"}]]);function Br({options:e,handleSelection:r}){const[t,n]=p.useState(!1),o=p.useRef(null),[i,l]=p.useState(0),u=()=>{r(i)},v=(m,j)=>{l(j),n(!1),r(j)},c=()=>{n(m=>!m)},g=m=>{o.current&&o.current.contains(m.target)||n(!1)};return f.jsxs(p.Fragment,{children:[f.jsxs(br,{variant:"contained",ref:o,"aria-label":"Button group with a nested menu",children:[f.jsx(ye,{onClick:u,children:e[i]}),f.jsx(ye,{size:"small","aria-controls":t?"split-button-menu":void 0,"aria-expanded":t?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:c,children:f.jsx(xr,{})})]}),f.jsx(Dr,{sx:{width:"wrap",zIndex:1},open:t,anchorEl:o.current,role:void 0,transition:!0,disablePortal:!0,children:({TransitionProps:m,placement:j})=>f.jsx(wr,{...m,style:{transformOrigin:j==="bottom"?"center top":"center bottom"},children:f.jsx(jr,{sx:{width:"100%"},children:f.jsx(Ar,{onClickAway:g,children:f.jsx(Er,{id:"split-button-menu",children:e.map((E,F)=>f.jsx(Fr,{sx:{width:"inherit",padding:1,marginY:.5},selected:F===i,onClick:C=>v(C,F),children:E},E))})})})})})]})}Br.propTypes={handleSelection:d.func};var je={},Kr=Cr;Object.defineProperty(je,"__esModule",{value:!0});var rr=je.default=void 0,Hr=Kr(Or()),Ur=f;rr=je.default=(0,Hr.default)((0,Ur.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function z(e,r,t,n){function o(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function u(g){try{c(n.next(g))}catch(m){l(m)}}function v(g){try{c(n.throw(g))}catch(m){l(m)}}function c(g){g.done?i(g.value):o(g.value).then(u,v)}c((n=n.apply(e,r||[])).next())})}function L(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(c){return function(g){return v([c,g])}}function v(c){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(t=0)),t;)try{if(n=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=r.call(e,t)}catch(g){c=[6,g],o=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ke(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,i=[],l;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){l={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return i}function He(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,i;n<o;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||Array.prototype.slice.call(r))}var Gr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function H(e,r){var t=Nr(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Nr(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Gr.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Yr=[".DS_Store","Thumbs.db"];function qr(e){return z(this,void 0,void 0,function(){return L(this,function(r){return Q(e)&&Xr(e.dataTransfer)?[2,Zr(e.dataTransfer,e.type)]:Jr(e)?[2,Vr(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Qr(e)]:[2,[]]})})}function Xr(e){return Q(e)}function Jr(e){return Q(e)&&Q(e.target)}function Q(e){return typeof e=="object"&&e!==null}function Vr(e){return he(e.target.files).map(function(r){return H(r)})}function Qr(e){return z(this,void 0,void 0,function(){var r;return L(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return H(n)})]}})})}function Zr(e,r){return z(this,void 0,void 0,function(){var t,n;return L(this,function(o){switch(o.label){case 0:return e.items?(t=he(e.items).filter(function(i){return i.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(et))]):[3,2];case 1:return n=o.sent(),[2,Ue(tr(n))];case 2:return[2,Ue(he(e.files).map(function(i){return H(i)}))]}})})}function Ue(e){return e.filter(function(r){return Yr.indexOf(r.name)===-1})}function he(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function et(e){if(typeof e.webkitGetAsEntry!="function")return Ge(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?nr(r):Ge(e)}function tr(e){return e.reduce(function(r,t){return He(He([],Ke(r),!1),Ke(Array.isArray(t)?tr(t):[t]),!1)},[])}function Ge(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=H(r);return Promise.resolve(t)}function rt(e){return z(this,void 0,void 0,function(){return L(this,function(r){return[2,e.isDirectory?nr(e):tt(e)]})})}function nr(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function i(){var l=this;r.readEntries(function(u){return z(l,void 0,void 0,function(){var v,c,g;return L(this,function(m){switch(m.label){case 0:if(u.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return v=m.sent(),t(v),[3,4];case 3:return c=m.sent(),n(c),[3,4];case 4:return[3,6];case 5:g=Promise.all(u.map(rt)),o.push(g),i(),m.label=6;case 6:return[2]}})})},function(u){n(u)})}i()})}function tt(e){return z(this,void 0,void 0,function(){return L(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var i=H(o,e.fullPath);t(i)},function(o){n(o)})})]})})}var nt=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return t.some(function(l){var u=l.trim().toLowerCase();return u.charAt(0)==="."?n.toLowerCase().endsWith(u):u.endsWith("/*")?i===u.replace(/\/.*$/,""):o===u})}return!0};function Ne(e){return at(e)||ot(e)||or(e)||it()}function it(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ot(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function at(e){if(Array.isArray(e))return be(e)}function Ye(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function qe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ye(Object(t),!0).forEach(function(n){ir(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ye(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ir(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function K(e,r){return ct(e)||st(e,r)||or(e,r)||lt()}function lt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function or(e,r){if(e){if(typeof e=="string")return be(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return be(e,r)}}function be(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function st(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,u;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(v){i=!0,u=v}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw u}}return n}}function ct(e){if(Array.isArray(e))return e}var ut="file-invalid-type",ft="file-too-large",pt="file-too-small",dt="too-many-files",gt=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:ut,message:"File type must be ".concat(t)}},Xe=function(r){return{code:ft,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},Je=function(r){return{code:pt,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},mt={code:dt,message:"Too many files"};function ar(e,r){var t=e.type==="application/x-moz-file"||nt(e,r);return[t,t?null:gt(r)]}function lr(e,r,t){if(S(e.size))if(S(r)&&S(t)){if(e.size>t)return[!1,Xe(t)];if(e.size<r)return[!1,Je(r)]}else{if(S(r)&&e.size<r)return[!1,Je(r)];if(S(t)&&e.size>t)return[!1,Xe(t)]}return[!0,null]}function S(e){return e!=null}function vt(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,i=e.multiple,l=e.maxFiles,u=e.validator;return!i&&r.length>1||i&&l>=1&&r.length>l?!1:r.every(function(v){var c=ar(v,t),g=K(c,1),m=g[0],j=lr(v,n,o),E=K(j,1),F=E[0],C=u?u(v):null;return m&&F&&!C})}function Z(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function V(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Ve(e){e.preventDefault()}function yt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function ht(e){return e.indexOf("Edge/")!==-1}function bt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return yt(e)||ht(e)}function O(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),l=1;l<o;l++)i[l-1]=arguments[l];return r.some(function(u){return!Z(n)&&u&&u.apply(void 0,[n].concat(i)),Z(n)})}}function xt(){return"showOpenFilePicker"in window}function Dt(e){if(S(e)){var r=Object.entries(e).filter(function(t){var n=K(t,2),o=n[0],i=n[1],l=!0;return sr(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(i)||!i.every(cr))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,n){var o=K(n,2),i=o[0],l=o[1];return qe(qe({},t),{},ir({},i,l))},{});return[{description:"Files",accept:r}]}return e}function wt(e){if(S(e))return Object.entries(e).reduce(function(r,t){var n=K(t,2),o=n[0],i=n[1];return[].concat(Ne(r),[o],Ne(i))},[]).filter(function(r){return sr(r)||cr(r)}).join(",")}function jt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function At(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function sr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function cr(e){return/^.*\.[\w]+$/.test(e)}var Et=["children"],Ft=["open"],Ot=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ct=["refKey","onChange","onClick"];function _t(e){return St(e)||It(e)||ur(e)||kt()}function kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function It(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function St(e){if(Array.isArray(e))return xe(e)}function ve(e,r){return Tt(e)||Rt(e,r)||ur(e,r)||Pt()}function Pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(e,r){if(e){if(typeof e=="string")return xe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xe(e,r)}}function xe(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Rt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,u;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(v){i=!0,u=v}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw u}}return n}}function Tt(e){if(Array.isArray(e))return e}function Qe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Qe(Object(t),!0).forEach(function(n){De(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function De(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ee(e,r){if(e==null)return{};var t=Mt(e,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Mt(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var Ae=p.forwardRef(function(e,r){var t=e.children,n=ee(e,Et),o=pr(n),i=o.open,l=ee(o,Ft);return p.useImperativeHandle(r,function(){return{open:i}},[i]),_r.createElement(p.Fragment,null,t(y(y({},l),{},{open:i})))});Ae.displayName="Dropzone";var fr={disabled:!1,getFilesFromEvent:qr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Ae.defaultProps=fr;Ae.propTypes={children:d.func,accept:d.objectOf(d.arrayOf(d.string)),multiple:d.bool,preventDropOnDocument:d.bool,noClick:d.bool,noKeyboard:d.bool,noDrag:d.bool,noDragEventsBubbling:d.bool,minSize:d.number,maxSize:d.number,maxFiles:d.number,disabled:d.bool,getFilesFromEvent:d.func,onFileDialogCancel:d.func,onFileDialogOpen:d.func,useFsAccessApi:d.bool,autoFocus:d.bool,onDragEnter:d.func,onDragLeave:d.func,onDragOver:d.func,onDrop:d.func,onDropAccepted:d.func,onDropRejected:d.func,onError:d.func,validator:d.func};var we={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function pr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=y(y({},fr),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,i=r.maxSize,l=r.minSize,u=r.multiple,v=r.maxFiles,c=r.onDragEnter,g=r.onDragLeave,m=r.onDragOver,j=r.onDrop,E=r.onDropAccepted,F=r.onDropRejected,C=r.onFileDialogCancel,re=r.onFileDialogOpen,Ee=r.useFsAccessApi,Fe=r.autoFocus,te=r.preventDropOnDocument,Oe=r.noClick,ne=r.noKeyboard,Ce=r.noDrag,_=r.noDragEventsBubbling,ie=r.onError,$=r.validator,W=p.useMemo(function(){return wt(t)},[t]),_e=p.useMemo(function(){return Dt(t)},[t]),oe=p.useMemo(function(){return typeof re=="function"?re:Ze},[re]),U=p.useMemo(function(){return typeof C=="function"?C:Ze},[C]),x=p.useRef(null),A=p.useRef(null),dr=p.useReducer(zt,we),ke=ve(dr,2),ae=ke[0],D=ke[1],gr=ae.isFocused,Ie=ae.isFileDialogActive,G=p.useRef(typeof window<"u"&&window.isSecureContext&&Ee&&xt()),Se=function(){!G.current&&Ie&&setTimeout(function(){if(A.current){var s=A.current.files;s.length||(D({type:"closeDialog"}),U())}},300)};p.useEffect(function(){return window.addEventListener("focus",Se,!1),function(){window.removeEventListener("focus",Se,!1)}},[A,Ie,U,G]);var P=p.useRef([]),Pe=function(s){x.current&&x.current.contains(s.target)||(s.preventDefault(),P.current=[])};p.useEffect(function(){return te&&(document.addEventListener("dragover",Ve,!1),document.addEventListener("drop",Pe,!1)),function(){te&&(document.removeEventListener("dragover",Ve),document.removeEventListener("drop",Pe))}},[x,te]),p.useEffect(function(){return!n&&Fe&&x.current&&x.current.focus(),function(){}},[x,Fe,n]);var k=p.useCallback(function(a){ie?ie(a):console.error(a)},[ie]),Re=p.useCallback(function(a){a.preventDefault(),a.persist(),X(a),P.current=[].concat(_t(P.current),[a.target]),V(a)&&Promise.resolve(o(a)).then(function(s){if(!(Z(a)&&!_)){var h=s.length,b=h>0&&vt({files:s,accept:W,minSize:l,maxSize:i,multiple:u,maxFiles:v,validator:$}),w=h>0&&!b;D({isDragAccept:b,isDragReject:w,isDragActive:!0,type:"setDraggedFiles"}),c&&c(a)}}).catch(function(s){return k(s)})},[o,c,k,_,W,l,i,u,v,$]),Te=p.useCallback(function(a){a.preventDefault(),a.persist(),X(a);var s=V(a);if(s&&a.dataTransfer)try{a.dataTransfer.dropEffect="copy"}catch{}return s&&m&&m(a),!1},[m,_]),Me=p.useCallback(function(a){a.preventDefault(),a.persist(),X(a);var s=P.current.filter(function(b){return x.current&&x.current.contains(b)}),h=s.indexOf(a.target);h!==-1&&s.splice(h,1),P.current=s,!(s.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),V(a)&&g&&g(a))},[x,g,_]),N=p.useCallback(function(a,s){var h=[],b=[];a.forEach(function(w){var B=ar(w,W),M=ve(B,2),se=M[0],ce=M[1],ue=lr(w,l,i),J=ve(ue,2),fe=J[0],pe=J[1],de=$?$(w):null;if(se&&fe&&!de)h.push(w);else{var ge=[ce,pe];de&&(ge=ge.concat(de)),b.push({file:w,errors:ge.filter(function(hr){return hr})})}}),(!u&&h.length>1||u&&v>=1&&h.length>v)&&(h.forEach(function(w){b.push({file:w,errors:[mt]})}),h.splice(0)),D({acceptedFiles:h,fileRejections:b,type:"setFiles"}),j&&j(h,b,s),b.length>0&&F&&F(b,s),h.length>0&&E&&E(h,s)},[D,u,W,l,i,v,j,E,F,$]),Y=p.useCallback(function(a){a.preventDefault(),a.persist(),X(a),P.current=[],V(a)&&Promise.resolve(o(a)).then(function(s){Z(a)&&!_||N(s,a)}).catch(function(s){return k(s)}),D({type:"reset"})},[o,N,k,_]),R=p.useCallback(function(){if(G.current){D({type:"openDialog"}),oe();var a={multiple:u,types:_e};window.showOpenFilePicker(a).then(function(s){return o(s)}).then(function(s){N(s,null),D({type:"closeDialog"})}).catch(function(s){jt(s)?(U(s),D({type:"closeDialog"})):At(s)?(G.current=!1,A.current?(A.current.value=null,A.current.click()):k(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):k(s)});return}A.current&&(D({type:"openDialog"}),oe(),A.current.value=null,A.current.click())},[D,oe,U,Ee,N,k,_e,u]),ze=p.useCallback(function(a){!x.current||!x.current.isEqualNode(a.target)||(a.key===" "||a.key==="Enter"||a.keyCode===32||a.keyCode===13)&&(a.preventDefault(),R())},[x,R]),Le=p.useCallback(function(){D({type:"focus"})},[]),$e=p.useCallback(function(){D({type:"blur"})},[]),We=p.useCallback(function(){Oe||(bt()?setTimeout(R,0):R())},[Oe,R]),T=function(s){return n?null:s},le=function(s){return ne?null:T(s)},q=function(s){return Ce?null:T(s)},X=function(s){_&&s.stopPropagation()},mr=p.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.refKey,h=s===void 0?"ref":s,b=a.role,w=a.onKeyDown,B=a.onFocus,M=a.onBlur,se=a.onClick,ce=a.onDragEnter,ue=a.onDragOver,J=a.onDragLeave,fe=a.onDrop,pe=ee(a,Ot);return y(y(De({onKeyDown:le(O(w,ze)),onFocus:le(O(B,Le)),onBlur:le(O(M,$e)),onClick:T(O(se,We)),onDragEnter:q(O(ce,Re)),onDragOver:q(O(ue,Te)),onDragLeave:q(O(J,Me)),onDrop:q(O(fe,Y)),role:typeof b=="string"&&b!==""?b:"presentation"},h,x),!n&&!ne?{tabIndex:0}:{}),pe)}},[x,ze,Le,$e,We,Re,Te,Me,Y,ne,Ce,n]),vr=p.useCallback(function(a){a.stopPropagation()},[]),yr=p.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.refKey,h=s===void 0?"ref":s,b=a.onChange,w=a.onClick,B=ee(a,Ct),M=De({accept:W,multiple:u,type:"file",style:{display:"none"},onChange:T(O(b,Y)),onClick:T(O(w,vr)),tabIndex:-1},h,A);return y(y({},M),B)}},[A,t,u,Y,n]);return y(y({},ae),{},{isFocused:gr&&!n,getRootProps:mr,getInputProps:yr,rootRef:x,inputRef:A,open:T(R)})}function zt(e,r){switch(r.type){case"focus":return y(y({},e),{},{isFocused:!0});case"blur":return y(y({},e),{},{isFocused:!1});case"openDialog":return y(y({},we),{},{isFileDialogActive:!0});case"closeDialog":return y(y({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return y(y({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return y(y({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return y({},we);default:return e}}function Ze(){}const Wt=({open:e,onClose:r,onUpload:t,uploadProgress:n,onRemove:o})=>{const i=kr(),[l,u]=p.useState(null),v=F=>{u(F[0])},{getRootProps:c,getInputProps:g,isDragActive:m}=pr({onDrop:v,accept:".xls,.xlsx",multiple:!1}),j=()=>{u(null),o()},E=()=>{l?t(l):zr.error("There is an issue uploading the file")};return f.jsxs(Ir,{open:e,onClose:r,"aria-labelledby":"upload-dialog-title",sx:{backdropFilter:i.backdropFilter},children:[f.jsxs(Sr,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{paddingRight:1,my:.5,minWidth:{xl:"500px",lg:"500px",md:400,sm:"80%"}},children:[f.jsx(Pr,{id:"upload-dialog-title",variant:"h3",color:i.palette.text.primary,fontWeight:i.typography.fontWeightMedium,children:"Upload File"}),f.jsx(Be,{onClick:r,children:f.jsx(rr,{})})]}),f.jsx(Rr,{children:l?f.jsxs(I,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:2.4,border:`0.8px solid ${i.palette.divider}`,textAlign:"center",cursor:"pointer",borderRadius:i.shape.borderRadius,backgroundColor:i.palette.primary.light},children:[f.jsxs(I,{...c(),sx:{display:"flex",alignItems:"center"},children:[f.jsx("input",{...g()}),f.jsx($r,{stroke:1.6,size:"1.8rem",color:i.palette.success.dark}),f.jsx(I,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:2.4},children:f.jsx(me,{variant:"h4",textAlign:"left",fontWeight:i.typography.fontWeightMedium,color:i.palette.text.primary,children:l.name})})]}),f.jsx(Be,{sx:{zIndex:2},onClick:j,children:f.jsx(Tr,{size:20})})]}):f.jsxs(I,{...c(),sx:{border:`1px dashed ${i.palette.divider}`,padding:2,textAlign:"center",cursor:"pointer",borderRadius:i.shape.borderRadius,backgroundColor:m?i.palette.primary.light:i.palette.background.default},children:[f.jsx("input",{...g()}),f.jsxs(I,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center",padding:2},children:[f.jsx(I,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:50,height:50,borderRadius:25,boxShadow:1,padding:1},children:f.jsx(Wr,{stroke:1.6,size:"1.4rem",color:i.palette.success.dark})}),f.jsxs(I,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:2.4},children:[f.jsxs(me,{variant:"h4",textAlign:"left",fontWeight:i.typography.fontWeightMedium,color:i.palette.text.primary,children:["Click to upload or drag & drop the excel file"," "]}),f.jsx(me,{variant:"subtitle1",fontWeight:i.typography.fontWeightRegular,color:i.palette.text.disabled,children:"Max 10 MB"})]})]})]})}),f.jsxs(Mr,{sx:{display:"flex",alignItems:"center",marginBottom:2},children:[l&&n>0&&f.jsx(Lr,{value:n,sx:{paddingRight:2}}),f.jsx(ye,{variant:"contained",color:"primary",onClick:E,sx:{marginRight:2,paddingX:2},disabled:!l||n>0,children:"Upload"})]})]})};export{Br as S,Wt as U};
