import{P as n,j as e,a as y,G as r,g as P,b as t,l as f,R as d,m as p,d as T,F as I}from"./index-DL-CLDEe.js";import"./PerformanceCard-BGBIJSie.js";import{D as F}from"./DrogaDonutChart-gWJPFz3l.js";const g=({kpi:l,target:s,actual:c,performance:a})=>e.jsx(y,{sx:{marginY:1},children:e.jsxs(r,{container:!0,spacing:P,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(r,{item:!0,xs:12,sm:6,md:4,lg:4,xl:4,children:[e.jsx(t,{variant:"subtitle1",children:l}),e.jsx(t,{variant:"caption",children:"KPI name"})]}),e.jsxs(r,{item:!0,xs:12,sm:6,md:3,lg:3,xl:3,children:[e.jsx(t,{variant:"subtitle1",children:s}),e.jsx(t,{variant:"caption",children:"Target"})]}),e.jsxs(r,{item:!0,xs:12,sm:6,md:3,lg:3,xl:3,children:[e.jsx(t,{variant:"subtitle1",children:c}),e.jsx(t,{variant:"caption",children:"Actual"})]}),e.jsx(r,{item:!0,xs:12,sm:6,md:2,lg:2,xl:2,children:e.jsx(F,{value:a,size:30})})]})});g.propTypes={kpi:n.string,target:n.number,actual:n.number,performance:n.number};const z=({isLoading:l,performance:s})=>{const c=f();return e.jsx(d.Fragment,{children:e.jsx(r,{container:!0,sx:{marginTop:2,borderTop:.8,borderColor:c.palette.divider,padding:1},children:e.jsx(r,{item:!0,xs:12,children:l?e.jsx(p,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:2},children:e.jsx(T,{size:20})}):s.length>0?e.jsx(d.Fragment,{children:s==null?void 0:s.map((a,u)=>{var m,o;const x=Object.keys(a)[0],[j,h]=x.match(/[a-zA-Z]+|[0-9]+/g),b=`${j} ${h}`;return e.jsx(p,{marginY:.6,children:((m=a[x])==null?void 0:m.per_kpi.length)>0&&e.jsxs(d.Fragment,{children:[e.jsx(t,{variant:"subtitle1",sx:{textTransform:"capitalize"},children:b}),(o=a[x])==null?void 0:o.per_kpi.map((i,v)=>e.jsx(g,{kpi:i.name,target:i.target,actual:i.actual_value,performance:parseFloat(i.kpi_performance).toFixed(1)},v))]})},u)})}):e.jsx(I,{severity:"performance",title:"No per KPI performance report",description:"Per KPI performances will be listed here",sx:{paddingTop:2}})})})})};export{z as P};
