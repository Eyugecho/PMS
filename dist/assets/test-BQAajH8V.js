import{r as p,j as e,aM as j,ap as ae,a8 as te,aq as M,ar as R,p as g,by as z,W as d,ai as ne,aj as y,C as B,ba as re,s as b,P as C}from"./index-BrIZ1aRM.js";import{b as le,c as se,S as V,a as oe,s as m,d as ie}from"./Check-kDV9V5_u.js";const ce=re`
  50% {
    opacity: 0.5;
  }
`,de=b(V)(({theme:a})=>({animation:`${ce} 1s linear infinite`,padding:a.spacing(1)})),ue=b(g)(({theme:a})=>({textAlign:"center"})),pe=b(oe)(({theme:a})=>({[`&.${m.alternativeLabel}`]:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},[`&.${m.active}`]:{[`& .${m.line}`]:{borderColor:"#784af4"}},[`&.${m.completed}`]:{[`& .${m.line}`]:{borderColor:"#784af4"}},[`& .${m.line}`]:{borderColor:a.palette.mode==="dark"?a.palette.grey[800]:"#eaeaf0",borderTopWidth:3,borderRadius:1}})),he=b("div")(({theme:a,ownerState:u})=>({color:a.palette.mode==="dark"?a.palette.grey[700]:"#eaeaf0",display:"flex",height:22,alignItems:"center",...u.active&&{color:"#784af4"},"& .QontoStepIcon-completedIcon":{color:"#784af4",zIndex:1,fontSize:18},"& .QontoStepIcon-circle":{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"}}));function F(a){const{active:u,completed:v,className:h}=a;return e.jsx(he,{ownerState:{active:u},className:h,children:v?e.jsx(ie,{className:"QontoStepIcon-completedIcon"}):e.jsx("div",{className:"QontoStepIcon-circle"})})}F.propTypes={active:C.bool,className:C.string,completed:C.bool};const n=["Frequency","Fiscal Year","Planning Period","Frequency Period Value","Evaluation Period"];function xe(){var I,k,P,$,Y,N,w,W,q,L,_,A,E,Q;const[a,u]=p.useState(0),[v,h]=p.useState(!1),[s,x]=p.useState({}),[f,O]=p.useState([]),[S,G]=p.useState([]);p.useState([]),p.useState(null);const H=r=>{u(r),h(!0)},J=()=>{a<n.length-1&&(u(r=>r+1),h(!0))},K=()=>{const r=n.reduce((t,l)=>(l!=="Frequency"&&l!=="Fiscal Year"&&(t[l]=s[l]||""),t),{});n[a]==="Fiscal Year"&&G(t=>[...t,{year:s["Fiscal Year"].year}]),O(t=>[...t,r]),x({}),u(0),h(!1)},c=r=>{const{name:t,value:l,type:i}=r.target;x(i==="number"?o=>({...o,[n[a]]:{...o[n[a]],[t]:Number(l)}}):o=>({...o,[n[a]]:{...o[n[a]],[t]:l}}))},U=r=>{const t=Number(r.target.value),l=Array.from({length:t},(i,o)=>({[`startDate_${o+1}`]:"",[`endDate_${o+1}`]:""}));x(i=>({...i,[n[a]]:{...i[n[a]],frequency:t,dates:l}}))},D=(r,t,l)=>{const i=r.target.value;x(o=>{const Z=o[n[a]].dates.map((T,ee)=>ee===t?{...T,[l]:i}:T);return{...o,[n[a]]:{...o[n[a]],dates:Z}}})},X=()=>{h(!1)};return e.jsxs(j,{sx:{width:"100%"},spacing:4,children:[e.jsx(le,{alternativeLabel:!0,activeStep:a,connector:e.jsx(pe,{}),children:n.map((r,t)=>e.jsx(se,{onClick:()=>H(t),children:t===0&&f.length===0?e.jsx(de,{StepIconComponent:F,children:r}):e.jsx(V,{StepIconComponent:F,children:r})},r))}),e.jsx(ae,{open:v,onClose:X,children:e.jsx(te,{sx:{position:"absolute",top:"55%",left:"55%",transform:"translate(-50%, -50%)",width:"50%",bgcolor:"background.paper",boxShadow:24,p:4},children:e.jsx(M,{variant:"outlined",children:e.jsxs(R,{children:[e.jsx(g,{variant:"h6",component:"div",children:n[a]}),n[a]==="Frequency"?e.jsxs(e.Fragment,{children:[e.jsx(z,{type:"text",name:"name",value:((I=s[n[a]])==null?void 0:I.name)||"",onChange:c,placeholder:"Name",style:{width:"100%",padding:"8px",marginTop:"10px"}}),e.jsx(z,{type:"number",name:"value",value:((k=s[n[a]])==null?void 0:k.value)||"",onChange:c,placeholder:"Value",style:{width:"100%",padding:"8px",marginTop:"10px"}})]}):n[a]==="Fiscal Year"?e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"year",label:"Year",value:((P=s[n[a]])==null?void 0:P.year)||"",onChange:c,fullWidth:!0,margin:"normal"}),e.jsx(d,{name:"startDate",label:"Start Date",type:"date",InputLabelProps:{shrink:!0},value:(($=s[n[a]])==null?void 0:$.startDate)||"",onChange:c,fullWidth:!0,margin:"normal"}),e.jsx(d,{name:"endDate",label:"End Date",type:"date",InputLabelProps:{shrink:!0},value:((Y=s[n[a]])==null?void 0:Y.endDate)||"",onChange:c,fullWidth:!0,margin:"normal"})]}):n[a]==="Planning Period"?e.jsxs(e.Fragment,{children:[e.jsxs(g,{variant:"body1",children:["Fiscal Year: ",((N=S.find(r=>{var t;return r.year===((t=s["Fiscal Year"])==null?void 0:t.year)}))==null?void 0:N.year)||"N/A"]}),e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"startDate",label:"Start Date",type:"date",InputLabelProps:{shrink:!0},value:((w=s[n[a]])==null?void 0:w.startDate)||"",onChange:c,fullWidth:!0,margin:"normal"}),e.jsx(d,{name:"endDate",label:"End Date",type:"date",InputLabelProps:{shrink:!0},value:((W=s[n[a]])==null?void 0:W.endDate)||"",onChange:c,fullWidth:!0,margin:"normal"})]})]}):n[a]==="Frequency Period Value"?e.jsxs(e.Fragment,{children:[e.jsxs(g,{variant:"body1",children:["Fiscal Year: ",((q=S.find(r=>{var t;return r.year===((t=s["Fiscal Year"])==null?void 0:t.year)}))==null?void 0:q.year)||"N/A"]}),e.jsxs(e.Fragment,{children:[e.jsxs(ne,{name:"frequency",value:((L=s[n[a]])==null?void 0:L.frequency)||"",onChange:U,fullWidth:!0,margin:"normal",children:[e.jsx(y,{value:12,children:"Monthly"}),e.jsx(y,{value:4,children:"Quarterly"}),e.jsx(y,{value:2,children:"Semi-Annually"}),e.jsx(y,{value:1,children:"Annually"})]}),(A=(_=s[n[a]])==null?void 0:_.dates)==null?void 0:A.map((r,t)=>e.jsxs(j,{spacing:1,children:[e.jsx(d,{name:`startDate_${t+1}`,label:`Start Date ${t+1}`,type:"date",InputLabelProps:{shrink:!0},value:r[`startDate_${t+1}`]||"",onChange:l=>D(l,t,`startDate_${t+1}`),fullWidth:!0}),e.jsx(d,{name:`endDate_${t+1}`,label:`End Date ${t+1}`,type:"date",InputLabelProps:{shrink:!0},value:r[`endDate_${t+1}`]||"",onChange:l=>D(l,t,`endDate_${t+1}`),fullWidth:!0})]},t))]})]}):n[a]==="Evaluation Period"?e.jsxs(e.Fragment,{children:[e.jsxs(g,{variant:"body1",children:["Fiscal Year: ",((E=S.find(r=>{var t;return r.year===((t=s["Fiscal Year"])==null?void 0:t.year)}))==null?void 0:E.year)||"N/A"]}),e.jsx(e.Fragment,{children:e.jsx(d,{name:"evaluation",label:"Evaluation",value:((Q=s[n[a]])==null?void 0:Q.evaluation)||"",onChange:c,fullWidth:!0,margin:"normal"})})]}):null,e.jsxs(j,{direction:"row",spacing:2,sx:{mt:2},children:[a<n.length-1&&e.jsx(B,{variant:"contained",color:"primary",onClick:J,children:"Next"}),a===n.length-1&&e.jsx(B,{variant:"contained",color:"secondary",onClick:K,children:"Save"})]})]})})})}),e.jsx(j,{spacing:2,children:f.length===0?e.jsx(ue,{variant:"h6",children:"No data available. Please save data from each step."}):f.map((r,t)=>e.jsx(M,{variant:"outlined",sx:{mb:2,boxShadow:1,borderRadius:2,padding:2,"&:hover":{boxShadow:2,transform:"scale(1.02)",transition:"0.3s ease-in-out"}},children:e.jsx(R,{children:Object.entries(r).map(([l,i])=>e.jsxs(g,{variant:"body2",children:[e.jsxs("strong",{children:[l,":"]})," ",i]},l))})},t))})]})}export{xe as default};
