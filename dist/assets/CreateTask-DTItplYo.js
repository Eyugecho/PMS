import{c as k,l as b,j as a,U as o,a2 as v,m as j,a3 as g,b as c,bL as C,M as T,N as p,P as t,O as I,aK as M,V as u,X as m,W as x}from"./index-DL-CLDEe.js";var O=k("checklist","IconChecklist",[["path",{d:"M9.615 20h-2.615a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8",key:"svg-0"}],["path",{d:"M14 19l2 2l4 -4",key:"svg-1"}],["path",{d:"M9 8h4",key:"svg-2"}],["path",{d:"M9 12h2",key:"svg-3"}]]),P=k("minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]);function F({name:i,options:s,selected:n,handleSelection:l,...d}){const h=b();return a.jsx(o,{sx:{border:"none",boxShadow:"none",p:0},...d,children:a.jsx(v,{displayEmpty:!0,name:i,value:n,onChange:l,inputProps:{"aria-label":"task types"},sx:{border:"none",boxShadow:"none",backgroundColor:"transparent",".MuiOutlinedInput-notchedOutline":{border:0},"&:hover .MuiOutlinedInput-notchedOutline":{border:0},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:0,borderRadius:8},p:0},fullWidth:!0,IconComponent:()=>a.jsx(j,{sx:{display:"none"}}),children:s.map((e,r)=>a.jsx(g,{value:e.value,children:a.jsx(c,{variant:"body1",color:n==e.value?C(n):h.palette.text.primary,children:e.label})},r))})})}const S=T().shape({plan_id:p().required("Please select KPI first"),task:p().required("The task name is required").min(3,"Task name expected to be more than 3 letters")}),f=({open:i,handleCloseModal:s,kpi:n,handleTaskSubmission:l,submitting:d})=>{const h=b(),e=I({initialValues:{plan_id:"",task:"",description:""},validationSchema:S,onSubmit:r=>{l(r)}});return a.jsxs(M,{open:i,title:"Create Task",handleClose:s,onCancel:s,onSubmit:e.handleSubmit,submitting:d,children:[a.jsxs(o,{sx:{border:"none",boxShadow:"none",p:0},error:e.touched.plan_id&&!!e.errors.plan_id,fullWidth:!0,children:[a.jsx(u,{htmlFor:"task",shrink:!e.plan_id||e.touched.plan_id,children:"Select KPI"}),a.jsx(v,{id:"task",displayEmpty:!0,name:"plan_id",label:"Select KPI",value:e.values.plan_id,onChange:e.handleChange,children:n.length>0?n.map((r,y)=>a.jsx(g,{value:r.plan_id,children:a.jsx(c,{variant:"body1",color:h.palette.text.primary,children:r==null?void 0:r.name})},y)):a.jsx(j,{sx:{p:1},children:a.jsx(c,{variant:"body1",children:"There is no KPI assigned"})})}),e.touched.plan_id&&e.errors.plan_id&&a.jsx(m,{error:!0,id:"standard-weight-helper-text-plan_id",children:e.errors.plan_id})]}),a.jsxs(o,{fullWidth:!0,error:e.touched.task&&!!e.errors.task,sx:{marginTop:3},children:[a.jsx(u,{htmlFor:"task",children:"Task name"}),a.jsx(x,{id:"task",name:"task",label:"Task name",value:e.values.task,onChange:e.handleChange,fullWidth:!0}),e.touched.task&&e.errors.task&&a.jsx(m,{error:!0,id:"standard-weight-helper-text-task",children:e.errors.task})]}),a.jsxs(o,{fullWidth:!0,error:e.touched.description&&!!e.errors.description,sx:{marginTop:3},children:[a.jsx(u,{htmlFor:"description",children:"Task description (optional)"}),a.jsx(x,{id:"description",name:"description",label:"Task description (optional)",multiline:!0,minRows:3,value:e.values.description,onChange:e.handleChange,fullWidth:!0})]})]})};f.propTypes={open:t.bool,handleCloseModal:t.func,kpi:t.array,handleTaskSubmission:t.func,submitting:t.bool};export{f as C,O as I,F as S,P as a};
